$=function(a,b){return new $.init(a,b)};$.init=function(b,e){var g=[],e=e||document;if($.isString(b)){var c=/^#([\w-]+)$/;if(b.indexOf("<")>=0){var a=b;if(a.indexOf("=")>0||a.indexOf("<",1)>0){var h=$("<div/>");h.html(a);return h.children()}else{g=[document.createElement(a.replace(/[^a-zA-Z0-9]+/g,""))]}}else{var d=c.exec(b);if(d){return $(document.getElementById(d[1])||[])}else{g=$(e).find(b)}}}else{if(b&&(b.nodeType||b==window)){g.push(b)}else{if($.isArray(b)){g=b}else{if(b instanceof $.init){return b}}}}return $.arrayLike(this,g)};$.extend=function(a,c){if(a&&c){for(var b in c){a[b]=c[b]}}return a};$.fn=$.init.prototype;$.toArray=$.cloneArray=function(a){return Array.prototype.slice.call(a)};$.arrayLike=function(a,c){var b=$.cloneArray(c);a.length=b.length;b.unshift(0,b.length);Array.prototype.splice.apply(a,b);return a};$.extend($.fn,{getFirst:function(){return this[0]},getLast:function(){return this[this.length-1]},eq:function(a){return $(this[a])},get:function(a){return this[a]},reverse:function(){var b=[];for(var a=this.length-1;a>=0;a--){b.push(this[a])}return $(b)},reverseEach:function(b){for(var a=this.length-1;a>=0;a--){b(this[a],a)}return this},each:function(c){for(var b=0,a=this.length;b<a;++b){c(b,this[b])}return this},map:function(d){var b=[];for(var c=0,a=this.length;c<a;++c){b.push(d(this[c],c))}return $(b)},filter:function(d){var b=[];for(var c=0,a=this.length;c<a;++c){if(d(this[c],c)){b.push(this[c])}}return $(b)},contain:function(d){var a=this.length;for(var c=0;c<a;c++){var b=this[c]==d;if(b){return c}}return -1},merge:function(d){var c=$.cloneArray(this);for(var b=0,a=d.length;b<a;++b){c.push(d[b])}return $(c)},inspect:function(){return $.toArray(this)}});$.merge=function(d,c){return $(d).merge($(c))};$.trim=function(a){return(a||"").replace(/^\s\s*/,"").replace(/\s\s*$/,"")};(function(a){a.ajax=function(l){l=l||{};var e=l.data,i=l.success||function(){},d=l.error||function(){},b=a.mimeTypes[l.dataType],g=l.contentType,j=new XMLHttpRequest();j.onreadystatechange=function(){if(j.readyState==4){if((j.status>=200&&j.status<300)||j.status==0){if(b=="application/json"){var m=JSON.parse(j.responseText);i(m,"success",j)}else{i(j.responseText,"success",j)}}else{d(j,"error")}}};j.open(l.type||"GET",l.url||window.location,true);if(b){j.setRequestHeader("Accept",b)}if(e instanceof Object){if(b=="application/json"){e=JSON.stringify(e),g=g||"application/json"}else{var c=[];for(var h in e){c.push({name:h,value:e[h]})}e=a.param(c)}}if(!g){g=g||(l.type||"GET").toLowerCase()=="get"?"text/html":"application/x-www-form-urlencoded"}if(g){j.setRequestHeader("Content-Type",g)}j.setRequestHeader("X-Requested-With","XMLHttpRequest");j.send(e);j.error=function(m){d=m};return j};a.mimeTypes={json:"application/json"};a.get=function(b,d,g){if(typeof d=="function"){g=d,d=null}var h="";if(d){h=b.indexOf("?")>=0?"&":"?";if(typeof d=="string"){h+=d}else{var e=[];for(var c in d){e.push({name:c,value:d[c]})}h+=a.param(e)}}return a.ajax({url:b+h,success:g})};a.post=function(c,d,e,b){if(d instanceof Function){b=b||e,e=d,d=null}return a.ajax({type:"POST",url:c,data:d,success:e,dataType:b})};a.getJSON=function(b,c){a.ajax({url:b,success:c,dataType:"json"})}})($);$.extend($,{isString:function(a){return typeof a=="string"},isFunction:function(a){return(typeof a==="function")},isArray:function(a){if($.browser.msie){return Array.isArray(a)}return(a&&((a.constructor==Array)||(toString.call(a)==="[object Array]")))},isUndefined:function(a){return a===undefined}});(function(b,a){b.is=function(d,c){if(typeof c=="string"&&c!=""){if(d){var e=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector||function(){return false};return e.call(d,c.replace(":first","").replace(":last",":last-of-type"))}}return true};a.is=function(c){return b.is(this[0],c)};a.children=function(g){var n=[];var c=(this[0]&&this[0].childNodes)||[];var j=g&&g.indexOf(":last")>=0;var h=g&&g.indexOf(":first")>=0;g=g&&g.replace(":first","").replace(":last","");for(var l=j?c.length-1:0,m=j?-1:c.length,e=j?-1:1;l!=m;l+=e){var d=c[l];if(d.nodeType==1){if(b.is(d,g)){n.push(d);if(h||j){break}}}}return b(n)};a.find=function(e){if(e){var d=[];var h=e&&(e.indexOf(":first")>=0||e.indexOf(":last")>=0);e=e&&e.replace(":first","").replace(":last",":last-of-type");var j=this[0]?(h?[this[0].querySelector(e)]:this[0].querySelectorAll(e)):[];for(var g=0,c=j.length;g<c;g++){d.push(j[g])}return b(d)}return b([])};a.parents=function(e){var d=[];var g=this[0]&&this[0].parentNode;var h=e&&e.indexOf(":last")>=0;var c=e&&e.indexOf(":first")>=0;e=e&&e.replace(":first","").replace(":last","");while(g){if(b.is(g,e)&&g.nodeType==1){d.push(g);if(c){break}}g=g.parentNode}if(h&&d.length>0){d=[d[d.length-1]]}return b(d)};a.nextSiblings=a.nextAll=function(e){var d=[];var g=this[0]&&this[0].nextSibling;var h=e&&e.indexOf(":last")>=0;var c=e&&e.indexOf(":first")>=0;e=e&&e.replace(":first","").replace(":last","");while(g){if(b.is(g,e)&&g.nodeType==1){d.push(g);if(c){break}}g=g.nextSibling}if(h&&d.length>0){d=[d[d.length-1]]}return b(d)};a.prevSiblings=a.prevAll=function(e){var d=[];var g=this[0]&&this[0].previousSibling;var h=e&&e.indexOf(":last")>=0;var c=e&&e.indexOf(":first")>=0;e=e&&e.replace(":first","").replace(":last","");while(g){if(b.is(g,e)&&g.nodeType==1){d.push(g);if(c){break}}g=g.previousSibling}if(h&&d.length>0){d=[d[d.length-1]]}return b(d)};a.last=function(c){if(!c){return this.getLast()}return this.find(c).getLast()};a.first=function(c){if(!c){return this.getFirst()}return this.find(c).getFirst()};a.parent=function(){return b((this[0]&&this[0].parentNode)||[])}})($,$.fn);(function(){var b="classList" in document.createElement("div");$.fn.attr=function(e,g){if(g===undefined){return this[0]&&this[0].getAttribute?this[0].getAttribute(e):null}else{for(var d=0,c=this.length;d<c;d++){if(this[d]&&this[d].setAttribute){this[d].setAttribute(e,g)}}return this}};$.fn.hasClass=function(d){if(b){return this[0]&&this[0].classList&&this[0].classList.contains(d)}else{var c=new RegExp("(^|\\s)"+d+"($|\\s)");return c.exec(this.attr("class")||"")!=null}};$.fn.removeAttr=function(d){for(var e=0,c=this.length;e<c;e++){if(this[e]&&this[e].nodeType===1&&this[e].removeAttribute){this[e].setAttribute(d,"");this[e].removeAttribute(d)}}return this};$.fn.addClass=function(d){var h=(d+"").split(" ");for(var g=0,l=this.length;g<l;g++){if(b&&this[g]&&this[g].classList){for(var e=0,p=h.length;e<p;e++){var c=h[e];if(c.length>0&&!this[g].classList.contains(c)){this[g].classList.add(c)}}}else{if(this[g]&&this[g].setAttribute){var n=(this[g].getAttribute("class")||"");var o=n+"";for(var e=0,p=h.length;e<p;e++){var c=h[e];if(c.length>0){var m=new RegExp("(^|\\s)"+c+"($|\\s)");if(m.exec(n)==null){n=n+" "+c}}}if(n!=o){this[g].setAttribute("class",n)}}}}return this};$.fn.removeClass=function(d){var h=(d+"").split(" ");for(var g=0,l=this.length;g<l;g++){if(b&&this[g]&&this[g].classList){for(var e=0,p=h.length;e<p;e++){var c=h[e];if(c.length>0&&this[g].classList.contains(c)){this[g].classList.remove(c)}}}else{if(this[g]&&this[g].setAttribute){var n=(this[g].getAttribute("class")||"");var o=n+"";for(var e=0,p=h.length;e<p;e++){var c=h[e];if(c.length>0){var m=new RegExp("(^|\\s)"+c+"($|\\s)");if(m.exec(n)!=null){n=n.replace(c," ")}}}if(n!=o){this[g].setAttribute("class",n)}}}}return this};$.fn.remove=function(){for(var d=0,c=this.length;d<c;d++){if(this[d]&&this[d].tagName=="IMG"){if(!$.cacheImg){$.cacheImg=[]}$.cacheImg.push(this[d]);this[d].src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";if($.cacheTimeout){clearTimeout($.cacheTimeout)}$.cacheTimeout=setTimeout(function(){$.cacheImg=[]},60000)}if(this[d]&&this[d].parentNode){try{this[d].parentNode.removeChild(this[d])}catch(g){}}}return this};$.fn.contains=function(c){return this[0]&&this[0].compareDocumentPosition&&!!(this[0].compareDocumentPosition($(c)[0])&16)};$.fn.clone=function(c){if(this[0]&&this[0].cloneNode){return $(this[0].cloneNode(c===undefined?true:c))}return null};$.fn.html=function(e){if(e===undefined){return this[0].innerHTML}else{for(var d=0,c=this.length;d<c;d++){if(this[d]){this[d].innerHTML=e}}return this}};$.fn.contents=function(){return $(this[0]).is("iframe")?$(this[0].contentDocument||this[0].contentWindow.document):$(this[0].childNodes)};$.fn.text=function(g){if(g===undefined){return"innerText" in this[0]?this[0].innerText:this[0].textContent}else{for(var e=0,c=this.length;e<c;e++){if(this[e]){if($.browser.mozilla){this[e].innerHTML="";var d=document.createTextNode(g);this[e].appendChild(d)}else{this[e].innerText=g}}}return this}};$.fn.prependTo=function(c){c=$($(c)[0]);c.prepend(this);return this};$.fn.appendTo=function(c){c=$($(c)[0]);c.append(this);return this};var a=(function(c){c.beforeBegin=function(d){if(this&&this.parentNode){this.parentNode.insertBefore(d,this)}};c.afterBegin=function(d){this.insertBefore(d,this.firstChild)};c.beforeEnd=function(d){this.appendChild(d)};c.afterEnd=function(d){if(this.parentNode){if(this.nextSibling){this.parentNode.insertBefore(d,this.nextSibling)}else{this.parentNode.appendChild(d)}}};c.fragString=function(d){var e=this.ownerDocument.createRange();e.setStartBefore(this);return e.createContextualFragment(d)};c.fragNodes=function(g){var d=document.createDocumentFragment();g=$(g);for(var h=0;h<g.length;h++){d.appendChild(g[h])}return d}});a(HTMLElement.prototype);if("DocumentFragment" in window){a(DocumentFragment.prototype)}$.fn.append=function(h){if($.isString(h)){for(var g=0,c=this.length;g<c;g++){var e=this[g];e.beforeEnd(e.fragString(h))}}else{var d=this[0];if(d){if(d&&d.beforeEnd){d.beforeEnd(d.fragNodes($(h)[0]))}}}return this};$.fn.prepend=function(h){if($.isString(h)){for(var g=0,c=this.length;g<c;g++){var e=this[g];e.afterBegin(e.fragString(h))}}else{var d=this[0];if(d){if(d&&d.afterBegin){d.afterBegin(d.fragNodes($(h)[0]))}}}return this};$.fn.before=function(h){if($.isString(h)){for(var g=0,c=this.length;g<c;g++){var e=this[g];e.beforeBegin(e.fragString(h))}}else{var d=this[0];if(d){if(d&&d.beforeBegin){d.beforeBegin(d.fragNodes($(h)[0]))}}}return this};$.fn.after=function(h){if($.isString(h)){for(var g=0,c=this.length;g<c;g++){var e=this[g];e.afterEnd(e.fragString(h))}}else{var d=this[0];if(d){if(d&&d.afterEnd){d.afterEnd(d.fragNodes($(h)[0]))}}}return this};$.fn.insertAfter=function(c){$(c).after(this[0])};$.fn.insertBefore=function(c){$(c).before(this[0])}})();var userAgent=navigator.userAgent.toLowerCase();$.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:(/msie/.test(userAgent)||(/trident/i).test(userAgent)||(/edge/i).test(userAgent))&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)&&!/(trident)/.test(userAgent)};if($.browser.msie){$.browser.safari=false;$.browser.chrome=false}$.documentEvents={};$.extend($.fn,{bind:function(c,b,a){return this.each(function(e,d){d.addEventListener(c,b,a||false)})},unbind:function(c,b,a){return this.each(function(e,d){d.removeEventListener(c,b,a||false)})},trigger:function(a){return this.each(function(c,b){var d=document.createEvent("Events");b.dispatchEvent(d,d.initEvent(a,true,false))})}});(function(){var b=false;var a=false;$.readyFuncs=[];$.ready=function(c){if(c){$.readyFuncs.push(c)}if(!$.readyTimer&&$.readyFuncs.length>0){var d=function(){if(b||/loaded|complete/.test(document.readyState)){b=true;var e=null;while(e=$.readyFuncs.shift()){e()}if($.readyFuncs.length==0){if($.readyTimer){clearInterval($.readyTimer);$.readyTimer=null}setTimeout(function(){$.ready()},50)}}};if(b){d()}else{$.readyTimer=setInterval(d,50)}if(!a){a=true;document.addEventListener("DOMContentLoaded",function(){b=true;while(f=$.readyFuncs.shift()){f()}},false)}}};$.fn.ready=function(c){return this.each(function(e,d){if(d==document){$.ready(c)}})}})();(function(){var b=false;var c=null;var a=function(){b=false;c=null};$(window).bind("resize",a);$(window).bind("orientationchange",a);$(window).bind("load",a);$(document).ready(a);$.recalculateWinSize=function(){window.forceDimReload=true;a()};$.extend($.fn,{offset:function(){var l=this[0];if(!l){return{}}if(l==window){if(b&&c&&!window.forceDimReload){return c}var e=$.android&&document&&document.documentElement?document.documentElement:null;var j=e?e.clientWidth||l.innerWidth:l.innerWidth;var i=e?e.clientHeight||l.innerHeight:l.innerHeight;b=true;var d={left:0,top:0,width:j,height:i,right:j,bottom:i};if("forceDimReload" in window){delete window.forceDimReload}c=d;return d}if(l.getBoundingClientRect){l=l.getBoundingClientRect()}else{l={left:l.offsetLeft,top:l.offsetTop,width:l.offsetWidth,height:l.offsetHeight}}var g={left:l.left+(document&&document.body?document.body.scrollLeft:0),top:l.top+(document&&document.body?document.body.scrollTop:0),width:l.width,height:l.height};g.right=g.left+g.width;g.bottom=g.top+g.height;return g},css:function(g,e){var d=function(n,m){if(m&&m.nodeType){var o=g;if(typeof g=="string"){if(e==undefined){var j=document.defaultView.getComputedStyle(m,null);return j[$.camelize(g)]}o={};o[g]=e}if(o){o=$.expandHashPrefix(o);for(var l in o){m.style[l]=o[l]}if(m.style.cssText){var h=m.style.cssText;for(var l in o){h+=";"+l+":"+o[l]}m.style.cssText=h}}}};if(e==undefined&&typeof g=="string"){return d(0,this[0])}else{this.each(d);return this}},width:function(d){if(d===undefined){return this.offset().width}this.css("width",d);return this},height:function(d){if(d===undefined){return this.offset().height}this.css("height",d);return this},bottom:function(d){if(d===undefined){return this.offset().bottom}this.css("bottom",d);return this},right:function(d){if(d===undefined){return this.offset().right}this.css("right",d);return this},left:function(d){if(d===undefined){return this.offset().left}this.css("left",d);return this},top:function(d){if(d===undefined){return this.offset().top}this.css("top",d);return this}})})();$.fn.animate=function(c,h,i,e){if(typeof i=="function"){e=i;i=""}if(typeof h=="function"){e=h;h=500}h=(h!==undefined?h:500);var d=this;var b=function(j){if(d[0]&&d[0].trans){j["-webkit-transform"]=d[0].trans()}return j};var a=document.createTouch;if(a){d.attr("tfleft",""+parseInt(this.css("left")));d.attr("tftop",""+parseInt(this.css("top")));d.css(b({}));d.css("left",0);d.css("top",0)}var g=function(){var p=" "+h+"ms "+(i||"");var m=a?/^(top|left|rotate|scalex|scaley)$/i:/^(rotate|scalex|scaley)$/;var o={};var n=[];var j=false;for(var l in c){if(m.test(l+"")){j=true;d.attr("tf"+(l+"").toLowerCase(),c[l])}else{o[l]=c[l];n.push(l+p)}}if(j){n.push("-webkit-transform"+p)}o["-webkit-transition"]=n.join(", ");if(j){b(o)}e=e||function(){};window.setTimeout(function(){e();d.css("-webkit-transition","");if(a){d.css("left",parseInt(d.attr("tfleft")));d.css("top",parseInt(d.attr("tftop")));d.removeAttr("tfleft");d.removeAttr("tftop");d.css(b({}))}},h);d.css(o)};if(a){window.setTimeout(g,0)}else{g()}return this};HTMLElement.prototype.trans=function(){var b=this;var c=function(h,g){return b.getAttribute(h)||g};var a=c("tfrotate");var e=c("tfscalex");var d=c("tfscaley");return"translate3d("+parseInt(c("tfleft",0))+"px,"+parseInt(c("tftop",0))+"px,0px) "+(a!=undefined?"rotate("+a+"deg) ":"")+(e!=undefined||d!=undefined?"scale("+(e||1)+","+(d||1)+")":"")};$.inArray=function(c,d){for(var a=0,b=d.length;a<b;a++){if(d[a]===c){return a}}return -1};$.fn.val=function(h){if(h===undefined){var a=this[0];if(a){if(a.nodeName.toUpperCase()=="OPTION"){return(a.attributes.value||{}).specified?a.value:a.text}if(a.nodeName.toUpperCase()=="SELECT"){var e=a.selectedIndex,j=[],l=a.options,d=a.type=="select-one";if(e<0){return null}for(var b=d?e:0,g=d?e+1:l.length;b<g;b++){var c=l[b];if(c.selected){h=$(c).val();if(d){return h}j.push(h)}}return j}return(a.value||"").replace(/\r/g,"")}return undefined}if(typeof h==="number"){h+=""}return this.each(function(p,o){if(o.nodeType!=1){return}if($.isArray(h)&&/radio|checkbox/.test(o.type)){o.checked=($.inArray(o.value,h)>=0||$.inArray(o.name,h)>=0)}else{if(o.nodeName.toUpperCase=="SELECT"){var n=$(h);$(o).find("option").each(function(r,q){q.selected=($.inArray(q.value,n)>=0||$.inArray(q.text,n)>=0)});if(!n.length){o.selectedIndex=-1}}else{o.value=h;if(h===null&&o.removeAttribute&&o.type=="file"){var m=o.cloneNode(true);o.parentNode.insertBefore(m,o);$(o).remove()}}}})};$.fn.serialize=function(){return $.param(this.serializeArray())};$.fn.serializeArray=function(){var a=[];this.each(function(d,c){if(c.elements){var e=c.elements;for(var d=0,b=e.length;d<b;d++){a.push(e[d])}return $(a)}a.push(this)});return $(a).filter(function(b){return b.name&&!b.disabled&&(b.checked||/select|textarea/i.test(b.nodeName)||/text|hidden|password|search/i.test(b.type))}).map(function(c,b){var d=$(c).val();return d==null?null:$.isArray(d)?$.map(d,function(g,e){return{name:c.name,value:g}}):{name:c.name,value:d}})};$.param=function(b){var c=[];$(b).each(function(d,a){c.push(encodeURIComponent(a.name)+"="+encodeURIComponent(a.value))});return c.join("&").replace(/%20/g,"+")};window.miniquery=1;$.subclass=function(b,c){var a=$.extend({},b);a.superKlass=b;$.extend(a,c);return a};$.extend($.fn,{contains:function(e){var d=this[0];var c=$(e)[0];return d.contains?d!=c&&d.contains(c):!!(d.compareDocumentPosition(c)&16)}});$.cssPrefix=$.browser.safari||$.browser.chrome?"-webkit":($.browser.mozilla?"-moz":($.browser.msie?"-ms":"-o"));$.browserPrefix=function(a,b){return a.toString().replace("-webkit",b)};$.camelize=function(a){return a.replace(/-+(.)?/g,function(b,c){return c?c.toUpperCase():""})};$.decamelize=function(a){return a.replace(/[a-z][A-Z]/g,function(b){return b.toLowerCase().split("").join("-")}).replace(/^[A-Z]/,function(b){return"-"+b.toLowerCase()})};$.browser.chrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;$.browser.ie9=$.browser.msie&&("addEventListener" in document);if($.browser.msie){$.browser.chrome=false}$.cssUnitify=function(c,b){var a=/z-?index|font-?weight|opacity|zoom|line-?height/i;return b&&b.constructor==Number&&!a.test(c)?b+"px":b};$.expandHashPrefix=function(g){var a={};for(var d in g){var c=$.cssUnitify(d,g[d]);a[d]=c;a[$.camelize(d)]=c;var b=$.decamelize(d);var h=$.browserPrefix(b,$.cssPrefix);a[h]=c;a[$.camelize(h)]=c;var e=$.browserPrefix(b,"").replace(/^-/,"");a[e]=c;a[$.camelize(e)]=c}return a};$.escapeHTML=function(d,c){d=(c=d.createElement("b")).appendChild(d.createTextNode(0));return function(a){return String(a).replace(/[&<>"'\`!@$%()=+{}\[\] /]/g,function(b){return"&#x"+b.charCodeAt(0).toString(16)+";"})}}(document);$.escapeNbsp=function(a){return $.escapeHTML(a||"").replace(/ /g,"&nbsp;").replace(/&#x20;/g,"&nbsp;")};$.extend($.fn,{textWithNbsp:function(b){var a=$.escapeNbsp(b);this.each(function(c,d){$(d).html(a)})}});(function(){var e=null;var g=new Date();var b=[];var c=false;var d=$.isTouchBase?10:0;var a=function(){if(!e||(new Date())-g<d){if(e){clearTimeout(e)}e=setTimeout(function(){e=null;for(var j=0,h=b.length;j<h;j++){var l=b[j];l()}},d+2)}};$.resize=function(h){if(typeof h=="function"){b.push(h);if(!c){$(window).bind("resize",a);if($.isTouchBase){$(window).bind("orientationchange",a)}}}else{a()}}})();(function(){var a=function(R,Q,W,P,J,I,O){for(var F=[[0,0],[1,0],[1,1],[0,1]],O=O||[],H=[],V=[],Z=0;4>Z;Z++){H[Z]=O[Z]?O[Z][1]:0,V[Z]=Math.max(0,H[Z])}for(var C=V[3],B=V[0],R=R-(V[3]+V[1]),Q=Q-(V[0]+V[2]),V=[R-1,Q-1],R=[R/2,Q/2,R/2,Q/2],Q=[],P=[W,P,J,I],J=[],Z=0;4>Z;Z++){P[Z]=void 0==P[Z]||null==P[Z]?W:P[Z],J[Z]=0.42772*P[Z],Q[Z]=0.42772*R[Z]}for(var W=[],G=I=1,E=6,aa=1,D=2,M=0,Z=0;8>Z;Z++){for(var X=[],U=0;4>U;U++){if(!(1==Z%2&&(1==U||2==U))){var Y=[F[M][0],F[M][1]],T=Y[aa]?1:-1;Y[aa]+=(1+T)/2*V[aa]-T*(G?Math.min(R[aa],P[M]):Math.min(Q[aa],J[M]));T=Y[1-aa]?1:-1;Y[1-aa]+=(1+T)/2*V[1-aa];X.push(Y[0]+C);X.push(Y[1]+B)}8==++D&&(M=(M+1)%4,D=0);2==++I&&(G=1-G,I=0);8==++E&&(aa=1-aa,E=0)}if(1==Z%2){var S=Math.floor(Z/2),U=H[S];if(0!=U){var Y=O[S][2],K=~~Math.max(0,Math.min(2,void 0!=Y?Y:1)),T=[[1,0],[0,1],[-1,0],[0,-1]][S],Y=[X[0],X[1]],X=[X[2],X[3]],N=O[S][3],S=Math.min(O[S][0],Math.abs(Y[aa]-X[aa])),L=K*(Math.abs(Y[aa]-X[aa])-S)/2,K=T[0]+T[1],N=[N?Y[aa]+K*L+N:Y[aa]+K*L,Y[1-aa]],U=[N[0]+K*S/2,Y[1-aa]+(T[1]-T[0])*U],Y=[N[0]+K*S,Y[1-aa]];W.push(["L",[N[aa],N[1-aa]]]);W.push(["L",[U[aa],U[1-aa]]]);W.push(["L",[Y[aa],Y[1-aa]]]);W.push(["L",[X[0],X[1]]]);continue}}0==Z&&W.push(["M",[X[0],X[1]]]);X.shift();X.shift();W.push([2==X.length?"L":"C",X])}return W};window.hasCanvasArcTo=function(){if(this.hasArcFlag==undefined){var b=document.createElement("canvas");this.hasArcFlag=!$.browser.opera&&b&&b.getContext&&"arcTo" in b.getContext("2d")}return this.hasArcFlag};window.hasCanvasQuadraticCurveTo=function(){if(this.hasQFlag==undefined){var b=document.createElement("canvas");this.hasQFlag=!$.browser.opera&&b&&b.getContext&&"quadraticCurveTo" in b.getContext("2d")}return this.hasQFlag};window.bezierPoints=function(d,h,m,e,n,r,g){var s=a(d,h,m,e,n,r,g);var p=hasCanvasArcTo();if(hasCanvasQuadraticCurveTo()||p){var q=0;for(var l=0,o=s.length;l<o;l++){var j=s[l];if(j[0]=="C"){var t=[j[1][4],j[1][5]];var c=[j[1][4],j[1][5]];var b=q<2?-1:1;t[q%2]+=arguments[2+q]*b;if(p){s[l]=["a",[t[0],t[1],c[0],c[1],Math.max(0,arguments[2+q])]]}else{s[l]=["q",[t[0],t[1],c[0],c[1]]]}q++}}}return s}})();(function(){var a=null;$.hasScrollTouch=function(){if(a===null){if($(document.body)[0]){var b=$(document.createElement("div"));b.appendTo(document.body);b.css("overflow","auto");b.css("-webkit-overflow-scrolling","touch");a=$.iDevice&&b.css("-webkit-overflow-scrolling")=="touch";b.remove()}}return a}})();$.crispPixelRatio=function(){if(!window.crispPixelRatio){var b=window.devicePixelRatio;if($.browser.mozilla&&!window.devicePixelRatio){var a=screen.width/window.innerWidth;if(($.isTouchBase&&a==2)||("matchMedia" in window)&&window.matchMedia("(-moz-min-device-pixel-ratio:2)").matches){b=2}}if($.browser.msie){b=1*(window.screen.systemXDPI?window.screen.systemXDPI:window.screen.deviceXDPI)/window.screen.logicalXDPI;return Math.max(b,Math.ceil(window.initialBrowserScale||1))}if($.browser.msie){return b}window.crispPixelRatio=b}return window.crispPixelRatio||1};$.shouldSkipDPI=function(b){if(!("shouldSkipAndroidDPI" in window)){window.shouldSkipAndroidDPI=false;if($.android&&$.browser.chrome){var a=$.browser.version;if(a&&parseFloat(a)>=500){window.shouldSkipAndroidDPI=true}}}return window.shouldSkipAndroidDPI};$.adjustCrispDPI=function(g){var z=g||{};var y=$(window).width()<380&&window.devicePixelRatio<2?0.5:1;var e=$.crispPixelRatio();var c=1*(z.inc||1);var o=z.min||128;var q=z.max||172;var l=(o+q)/2;var m=[];var j=160*e;var n=j/y;var d=0;while(d!=3&&(n<o||n>q)){m.push(y);if(n<o){d=d|1;y=y-c}if(n>q){d=d|2;y=y+c}if(y<=0){d=3}n=j/y}if(d==3&&m.length>0){var w=10000;var p=null;for(var s=0,t=m.length;s<t;s++){var r=Math.abs(l-j/m[s]);if(r<w){w=r;p=m[s]}}if(p){y=p}else{y=1}}n=j/y;var x=(y/e);var b=navigator.userAgent.toLowerCase();var h=(b.indexOf("playbook")>=0)||(b.indexOf("bb10")>=0);if(h){n="device-"}if($.android&&$.browser.chrome){var a=navigator.userAgent.toLowerCase().match("version/([0-9]+.[0-9]+)");if(a&&a[1]&&parseFloat(a[1])>=4){x=1}}if($.shouldSkipDPI()){return}if($.iDevice&&!$.browser.msie){return}if($.browser.safari&&!$.browser.msie&&!$.browser.chrome){return}if(!$.browser.msie){return}var u=(navigator.userAgent+"").toLowerCase();if($.browser.msie&&(u.indexOf("mobile")>=0||u.indexOf("tablet")>=0)){}else{$("meta[name=viewport]").attr("content","target-densityDpi="+n+"dpi,user-scalable=no,initial-scale="+x+",minimum-scale="+x+",maximum-scale="+x)}};$.adjustAndroidInputPosition=function(){$(document).bind("mousedown",function(b){var a=$(b.target);if(!a.is("input,textarea")){return}if(!(a.attr("jsclass")+"").indexOf("androidinput")>=0){a.attr("jsclass","androidinput "+(a.attr("jsclass")||""))}})};$.degaussChromeZoom=function(){if($.shouldSkipDPI()){return}$(document).ready(function(){$("meta[name=viewport]").attr("content","width="+$(window).width());setTimeout(function(){$.adjustCrispDPI()},200)});var a=window.innerWidth;window.requestInterval(function(){currentWindowWidth=window.innerWidth;if(currentWindowWidth!=a){$("meta[name=viewport]").attr("content","width="+$(window).width());$.adjustCrispDPI();currentWindowWidth=a}},600)};$(document).ready(function(){if($.android){$.adjustAndroidInputPosition()}$.act({"androidinput[focus]":function(a,b){if($.browser.chrome){$("meta[name=viewport]").attr("content","width="+$(window).width());$.adjustCrispDPI()}if($.androidInputFocused){$.androidInputFocused()}}})});var agent=navigator.userAgent.toLowerCase();$.iDevice=(agent.indexOf("iphone")>=0||agent.indexOf("ipad")>=0||agent.indexOf("ipod")>=0)&&!$.browser.msie;$.android=agent.indexOf("android")!=-1||((agent.indexOf(" u;")!=-1&&agent.indexOf("ubuntu;")<0&&agent.indexOf("opera")==-1)&&!$.iDevice);$.isTouchBase=$.android||("createTouch" in document);$.isIETouch=("msMaxTouchPoints" in navigator&&navigator.msMaxTouchPoints)||("maxTouchPoints" in navigator&&navigator.maxTouchPoints);if(agent.indexOf("cros")>=0&&!$.browser.msie){$.isIETouch=false}$.iePointerPrefix=("maxTouchPoints" in navigator&&navigator.maxTouchPoints)?"pointer":"MSPointer";$.iePointerUpName=$.iePointerPrefix=="MSPointer"?"MSPointerUp":"pointerup";$.iePointerMoveName=$.iePointerPrefix=="MSPointer"?"MSPointerMove":"pointermove";$.iePointerDownName=$.iePointerPrefix=="MSPointer"?"MSPointerDown":"pointerdown";$.isChromeTouch=window.navigator.pointerEnabled;$.hasPointerTouch=$.isIETouch||$.isChromeTouch;$.isMobileIE=$.browser.msie&&(navigator.appVersion.indexOf("Touch")>=0&&navigator.appVersion.indexOf("Phone")>=0);$.downEv=$.isTouchBase?"touchstart":"mousedown";$.moveEv=$.isTouchBase?"touchmove":"mousemove";$.upEv=$.isTouchBase?"touchend":"mouseup";$.timerMultiplicator=$.android?1:1;$.hasListenerOptionFlag=null;$.hasListenerPassiveOptions=function(){if($.hasListenerOptionFlag===null){var a=false;try{window.addEventListener("options-test",null,Object.defineProperty({},"capture",{get:function(){a=true}}))}catch(b){}$.hasListenerOptionFlag=a}return $.hasListenerOptionFlag};Array.remove=function(d,c,b){var a=d.slice((b||c)+1||d.length);d.length=c<0?d.length+c:c;return d.push.apply(d,a)};(function(){$.act=function(e,b){var i={};var n=b||{};for(var j in e){if(typeof e[j]=="string"){i[j]=e[j]}else{var d=j.match(/\[[^\]]+\]/);if(d.length==1){var c=d[0].replace(/^\[/,"").replace(/\]$/,"");var g=j.replace(d[0],"");if(c=="mousedown"&&$.isIETouch){$.actor.listen($.iePointerDownName,g,e[j])}if(c=="mouseup"&&$.isIETouch){$.actor.listen($.iePointerUpName,g,e[j])}if(c=="mousedown"&&$.isChromeTouch&&!$.isIETouch){$.actor.listen("pointerdown",g,(function(m){return function(p,o,r,q){if($.lockPointerDownEv){return}m(p,o,r,q)}})(e[j]))}if(c=="mouseup"&&$.isChromeTouch&&!$.isIETouch){$.actor.listen("pointerup",g,(function(m){return function(p,o,r,q){if($.lockPointerDownEv){return}m(p,o,r,q)}})(e[j]))}if(c=="click"&&$.isTouchBase){var h=function(m){if(!m.attr("touchfixed")){m.attr("touchfixed","fixed");m.css("cursor","pointer");m.css("-webkit-tap-highlight-color","rgba(0,0,0,0)");m[0].addEventListener("mousedown",function(){});m[0].addEventListener("click",function(){})}};$.actor.listen("touchstart",g,h,"touch-click");if($.isIETouch){$.actor.listen($.iePointerDownName,g,h,"touch-click")}if($.isChromeTouch&&!$.isIETouch){$.actor.listen("pointerdown",g,function(o,m,q,p){if($.lockPointerDownEv){return}h(o,m,q,p)},"touch-click")}}if(c=="click"){(function(p,o){var m=(function(q){return function(r,s){return q.apply(this,arguments)}})(p[o]);p[o]={down:function(q,r){this.container=q;this.originalEvent=r;this.originalDownType=r.type},click:function(r,s){if(!this.moved&&!this.originalEvent.pClickStopped&&this.container.attr("gesturehold")!="1"){var q=$.shouldBlockLastClick(this.container,this.originalDownType,this.originalEvent);if($.android){if($.touchWasMoved){q=true}}if(!q){m(this.container,this.originalEvent)}}},originalClick:m}})(e,j);var h=(function(m){return function(r,q){var o=$.actor.gestureFuncsByKlass(m+"-clickture");return new $.draggerManager(r,q,o)}})(g);$.actor.addGestureKlass(g+"-clickture",e[j]);$.actor.listen("touchstart",g,h,"clickture");$.actor.listen("mousedown",g,h,"clickture");if($.isIETouch){$.actor.listen($.iePointerDownName,g,h,"clickture")}if($.isChromeTouch&&!$.isIETouch){$.actor.listen("pointerdown",g,h,"clickture")}continue}if(c=="scroll-y"||c=="scroll-x"){$.actor.listen("scroll",g,$.delegateScroller["scroll[scroll]"],c);continue}if(c=="clicks"){e[j]=$.multiClicksHandler(e[j]);c="gesture"}var a="gesture";if(c=="gesturehold"){e[j]=$.gestureAfterHold(e[j]);c="gesture";a="gesturehold"}if(c=="gesture"){$.actor.addGestureKlass(g+"-"+a,e[j]);var h=(function(m,o){return function(s,r){var q=$.actor.gestureFuncsByKlass(m+"-"+o);return new $.draggerManager(s,r,q)}})(g,a);$.actor.listen("touchstart",g,h,a);$.actor.listen("mousedown",g,h,a);if($.isIETouch){$.actor.listen($.iePointerDownName,g,h,a)}if($.isChromeTouch&&!$.isIETouch){$.actor.listen("pointerdown",g,h,a)}continue}var l=c;c=$.actor.adaptEventName(c);$.actor.listen(c,g,e[j],n.subKlassName);if(l!=c&&!$.iDevice){$.actor.listen(l,g,e[j],n.subKlassName)}}}}$.actorAlias(i)};$.actorAlias=function(e){var d={};var a=false;for(var b in e){var c=$.actor.getListener(e[b]);if(c){a=true;d[b]=c}}if(a){$.act(d)}};if($.hasPointerTouch){$(document).ready(function(){if(!$.msTouchActionCSS&&$.hasPointerTouch&&$.browser.msie){$.msTouchActionCSS=true;$.theme.registerCSS("MSTouchActionNone","html, body{ touch-action : none; -ms-touch-action : none }")}$.resetMSTouchBody=function(){$.theme.registerCSS("MSTouchActionNone","html, body{}")}})}})();(function(){$.delegate=function(a){return function(j){var h=$(j.target);if(j.target.nodeType==3){h=$(j.target.parentNode)}while(h[0]){var g=h[0].attributes&&h.attr("jsclass");if(g){g=g.split(" ");var b=g.length;for(var d=0;d<b;d++){var c=g[d];if(a[c]){a[c](h,j)}if(j.pStopped){return}}}if(j.pStopped){return}if((h[0]==null)||(h[0]==document)){h=$([])}else{h=h.parent()}}}};$.axe=function(a){if(a){a.pStopped=true}};$.axeNextClick=function(a){if(a){a.pClickStopped=true}};$.skipStop=function(a){if(a){a.skipStop=true}};$.stop=function(a){if(a&&a.skipStop){return}if(a&&a.stopPropagation){a.stopPropagation();a.preventDefault()}if(a&&a.preventManipulation){a.preventManipulation()}if(a&&a.originalEvent&&a.originalEvent.preventManipulation){a.originalEvent.preventManipulation()}};$.canStop=function(a){return !$(a).is("input,textarea,a,button,select,iframe,video,.clickable")}})();(function(){var a={};$.actor={eventTypeBinded:{},eventTypeDelegate:{},isDocumentReady:false,documentUnbindedHandlers:[],gestureKlasses:{},addGestureKlass:function(b,c){this.gestureKlasses[b]=c},gestureFuncsByKlass:function(b){return this.gestureKlasses[b]},getListener:function(e){var b=e.match(/\[[^\]]+\]/);if(b.length==1){var d=b[0].replace(/^\[/,"").replace(/\]$/,"");var c=e.replace(b[0],"");if(d=="click"){return this.gestureKlasses[c+"-clickture"]&&this.gestureKlasses[c+"-clickture"]["originalClick"]}if(d=="gesture"||d=="gesturehold"){if(typeof this.gestureKlasses[c+"-"+d]=="function"){return this.gestureKlasses[c+"-"+d]()}return this.gestureKlasses[c]}d=$.actor.adaptEventName(d);return(function(h,i,g){if(a[i]&&a[i][g]){return a[i][g]}else{return function(){}}})(this,d,c)}return null},listen:function(d,b,e,h){this.initEventType(d);if(h){var g={};if(!a[d][b]){a[d][b]=function(){}}if(typeof a[d][b]=="function"){g=a[d][b].listenerHash;if(!g){g={};g.base=a[d][b]}}g[h]=e;var c=a[d];(function(j,i){j[i]=function(){for(var l in j[i].listenerHash){if(j[i].listenerHash[l]){j[i].listenerHash[l].apply(j,arguments)}}};j[i].listenerHash=g})(c,b)}else{if(a[d][b]&&a[d][b].listenerHash){a[d][b].listenerHash.base=e}else{a[d][b]=e}}},mouseDownName:function(){return $.hasPointerTouch?"mousedown":$.downEv},mouseMoveName:function(){return $.hasPointerTouch?"mousemove":$.moveEv},mouseUpName:function(){return $.hasPointerTouch?"mouseup":$.upEv},adaptEventName:function(b){if($.isTouchBase){if(b=="mousedown"){return"touchstart"}if(b=="mousemove"){return"touchmove"}if(b=="mouseup"){return"touchend"}}if(b=="focus"){if($.browser.msie){return"focusin"}else{if($.browser.mozilla){return"focus"}else{return"DOMFocusIn"}}}if(b=="blur"){if($.browser.msie){return"focusout"}else{if($.browser.mozilla){return"blur"}else{return"DOMFocusOut"}}}return b.replace("*","")},initEventType:function(b){if(!a[b]){a[b]={}}if(!this.eventTypeDelegate[b]){this.eventTypeDelegate[b]=$.delegate(a[b])}this.bindEvtType(b)},bindEvtType:function(c){if(!this.eventTypeBinded[c]){if(this.isDocumentReady){this.eventTypeBinded[c]=true;var d=!$.browser.msie&&!("jQuery" in window)?true:undefined;if($.browser.chrome&&!$.browser.msie&&($.browser.version>=56||$.hasListenerPassiveOptions())){d={passive:false}}if((/^DOM/).test(c)){if(!$.browser.msie){document.addEventListener(c,this.eventTypeDelegate[c],d)}}else{if(c=="scroll"){if((!$.browser.msie||($.browser.msie&&$.browser.ie9))){if($.browser.mozilla){document.addEventListener("DOMMouseScroll",this.eventTypeDelegate[c],d)}else{if($.browser.msie){var b=this;$(document).bind("mousewheel",function(h){b.eventTypeDelegate[c](h);var g=$(h.target);if(!g.attr("scrollbinded")){g.attr("scrollbinded","1");g.bind("mousewheel",b.eventTypeDelegate[c])}});$(document).bind("mousewheel",this.eventTypeDelegate[c],d)}else{$(document).bind("mousewheel",this.eventTypeDelegate[c],d)}}}else{var e=this;document.onmousewheel=function(g){if(!g){g=window.event}var h={wheelDelta:g.wheelDelta*10,target:$(g.srcElement)};e.eventTypeDelegate.scroll(h)}}}else{if(c=="submit"){$(document.body).bind(c,this.eventTypeDelegate[c],d)}else{if($.browser.msie){if(c=="focusin"&&("jQuery" in window&&document.addEventListener)){document.addEventListener(c,this.eventTypeDelegate[c])}else{$(document).bind(c,this.eventTypeDelegate[c])}}else{$(document).bind(c,this.eventTypeDelegate[c],d)}}}}}else{this.documentUnbindedHandlers.push(c)}}}};(function(){var b=$.actor;$(document).ready(function(){if($.android){document.addEventListener("touchstart",function(i){try{$.touchWasMoved=false;var h=$.getTouchPoints(i);$.touchWasMovedX=h.pageX;$.touchWasMovedY=h.pageY}catch(j){}},{passive:false});document.addEventListener("touchmove",function(l){try{var j=$.getTouchPoints(l),i=j.pageX,h=j.pageY;$.touchWasMoved=$.touchWasMoved||(Math.abs($.touchWasMovedX-i)>=2)||(Math.abs($.touchWasMovedY-h)>=2)}catch(m){}},{passive:false});document.addEventListener("touchend",function(){setTimeout(function(){$.touchWasMoved=false},10)},{passive:false})}b.isDocumentReady=true;var c=b.documentUnbindedHandlers.length;for(var e=0;e<c;e++){var d=b.documentUnbindedHandlers[e];(function(h){b.bindEvtType(h)})(d)}if($.browser.chrome&&!$.browser.msie&&"addEventListener" in document){var g={};g.touchdown=function(){$.lockPointerDownEv=true;document.removeEventListener("touchstart",g.touchdown);g={}};document.addEventListener("touchstart",g.touchdown)}})})()})();$.getTouchPoints=function(c,b){if("changedTouches" in c){var a="changedTouches" in c?c.changedTouches:(c.originalEvent&&"changedTouches" in c.originalEvent?c.originalEvent.changedTouches:null);if(a&&a.length>0){return{pageX:a[0].pageX,pageY:a[0].pageY,identifier:a[0].identifier}}return null}return{pageX:c.pageX,pageY:c.pageY,identifier:b?(new Date()-1)+"":(c.pointerId||(new Date()-1)+"")}};$.getTouchPointChanges=function(g,j,c){if("changedTouches" in g||(g.originalEvent&&"changedTouches" in g.originalEvent)){var d="changedTouches" in g?g.changedTouches:(g.originalEvent&&"changedTouches" in g.originalEvent?g.originalEvent.changedTouches:null);if(d&&d.length>0){var a=d.length;for(var b=0;b<a;b++){var h=d[b];if(h.identifier==j){return{pageX:h.pageX,pageY:h.pageY,identifier:h.identifier}}}}return null}return{pageX:g.pageX,pageY:g.pageY,identifier:g.pointerId}};$.getMultiTouches=function(h,g){var d=[];if("changedTouches" in h||"touches" in h){var c=!(g&&g[0])&&"changedTouches" in h?h.changedTouches:(h.originalEvent&&"changedTouches" in h.originalEvent?h.originalEvent.changedTouches:null);if(!c||c.length<2){c="touches" in h?h.touches:(h.originalEvent&&"touches" in h.originalEvent?h.originalEvent.touches:null)}if(g&&g[0]){for(var b=0,a=c.length;b<a;b++){if(c[b].target==g[0]||g.contains(c[b].target)){d.push(c[b])}}}else{d=c}return d}return null};$.getMultiTouchInfo=function(n,l,o){if("changedTouches" in n||"touches" in n){var b=!(o&&o[0])&&"changedTouches" in n?n.changedTouches:(n.originalEvent&&"changedTouches" in n.originalEvent?n.originalEvent.changedTouches:null);if(!b||b.length<2){b="touches" in n?n.touches:(n.originalEvent&&"touches" in n.originalEvent?n.originalEvent.touches:null)}var j=[];if(o&&o[0]){for(var h=0,m=b.length;h<m;h++){if(b[h].target==o[0]||o.contains(b[h].target)){j.push(b[h])}}}else{j=b}if(j&&j.length>=2){var a={x:Math.round((j[0].pageX+j[1].pageX)/2),y:Math.round((j[0].pageY+j[1].pageY)/2)};var s=Math.atan2(j[1].pageY-j[0].pageY,j[1].pageX-j[0].pageX)/Math.PI*180;var c=Math.abs(j[1].pageX-j[0].pageX);var g=Math.abs(j[1].pageY-j[0].pageY);var q=0;var d=1;var r=0;var p=0;if(l){d=Math.sqrt(c*c+g*g)/Math.sqrt(l.wd*l.wd+l.hg*l.hg);q=s-l.currentRotation;r=a.x-l.center.x;p=a.y-l.center.y}return{center:a,rotation:q,currentRotation:s,scale:d,wd:c,hg:g,dx:r,dy:p}}return null}return null};(function(){var b=[];var a=[];$.draggerLastTouch=0;$.lastBlockClickCall=null;$.hasPointerOrTouchClick=null;$.shouldBlockLastClick=function(e,h){var g=true;if(!$.hasPointerOrTouchClick&&h&&((h+"").toLowerCase().indexOf("pointer")>=0||(h+"").toLowerCase().indexOf("touch")>=0)){$.hasPointerOrTouchClick=true}if(!$.lastBlockClickCall){$.lastBlockClickCall=$.lastTriggerLimit(function(){$.shouldBlockLastClick()},300)}var d=false;for(var c=a.length-1;c>=0;c--){var j=(new Date-1)-a[c][1]<350;if(e&&e[0]&&a[c][0]==e[0]){d=true}if(e&&e[0]&&a[c][0]==e[0]&&j&&(!h||(h!=a[c][2]))){g=false}if(!j){a.pop()}}if(g){if(e&&e[0]&&!d){a.unshift([e[0],new Date-1,h])}}if(e&&e[0]){$.lastBlockClickCall()}return !g};$.recordTouchClick=function(d,c){b.push([+new Date,d,c]);if(b.length>10){b.shift()}$.draggerLastTouch=+new Date};$.allowMouseClick=function(m,j){var e=+new Date;for(var c=b.length-1;c>=0;c--){var d=b[c];var g=d[0];var l=d[1];var h=d[2];if(e<g+1500&&Math.abs(l-m)<10&&Math.abs(h-j)<10){return false}}return true}})();(function(){var l=0;var d={};if(!("originalSetTimeout" in window)){window.originalSetTimeout=window.setTimeout;window.originalClearTimeout=window.clearTimeout;window.originalSetInterval=window.setInterval;window.originalClearInterval=window.clearInterval}window.disableQInterval=false;var i=function(s){return window.originalSetTimeout(s,1000/60)};var c=(function(){return window.disableQInterval?i:window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:window.oRequestAnimationFrame?window.oRequestAnimationFrame:window.msRequestAnimationFrame?window.msRequestAnimationFrame:i})();var p=function(){while(d[l]){l+=1;l=l%100000}d[l]={};return l};var m=function(s){s=s==undefined?12:s;return{interval:1,num:p(),timeout:s,rTimeout:s,active:1}};var h=null;var a=+new Date;var q=c==i&&$.isTouchBase?16:12;var b=q;var j=function(){var t=+new Date;var z=t-a;if(z>Math.max(q,b)){a=t;var u=null;var x=null;for(var s in d){x=d[s];if(x.active==1){x.timeout-=z;var w=x.timeout<=0;if(x.timeout<=0){x.timeout=Math.max(x.timeout+x.rTimeout,0);if(x.timeout<=0){x.timeout=x.rTimeout}}if(x.timeout>0){u=Math.min(u||1000000,x.timeout)}if(w){if(x.func){try{x.func()}catch(y){x.active=0}}if(x.interval==0){x.active=0}}}else{if(x.active==0){delete d[s]}}}if(u){b=u}if(x==null){b=q;h=null}else{h=null;g()}}else{h=null;g()}};var g=function(s){if(s&&"num" in s){d[s.num]=s;if(s.timeout>0){b=Math.min(b,s.timeout)}}if(!h){h=c(j)}};var e=function(t,s){var u=m(s);u.func=t;g(u);return u};var r=function(t,s){var u=m(s);u.interval=0;u.func=t;g(u);return u};var o=function(s){if(s&&(typeof s=="object")&&"active" in s){s.active=0}else{window.originalClearTimeout(s)}};var n=function(s){if(s&&(typeof s=="object")&&"active" in s){s.active=0}else{window.originalClearInterval(s)}};window.qsetInterval=e;window.qsetTimeout=r;window.qclearTimeout=o;window.qclearInterval=n;window.requestAnim=c;window.requestInterval=e;window.clearRequestInterval=n})();(function(){$.rateLimit=function(e,d){d=d||100;var b=-1;var c=e;var a=null;return function(){if(new Date()-b>d){e.apply(this,arguments);b=new Date();if(a){clearTimeout(a);a=null}}else{if(!a){a=setTimeout(function(){c();a=null},d)}}}};$.lastTriggerLimit=function(d,c){c=c||100;var a=new Date-1;var b=$.rateLimit(function(){if((new Date-1)-a<c){return}d()},c);return function(){a=new Date-1;setTimeout(function(){b()},c+50)}}})();$.draggerManager=function(a,c,b){this.initialize(a,c,b)};$.draggerManager.prototype={initialize:function(d,n,i){this.config=$.extend({},i);if($.browser.msie){d[0].ondrag=function(){return false};d[0].ondragstart=function(){return false}}var q=n;var r=this;this.eventDownName=n?((n.type||n.original.type)+"").toLowerCase():"mousedown";if($.lockPointerDownEv&&r.eventDownName=="pointerdown"){return}if(n&&n.type=="mousedown"){if(("button" in n)&&n.button!==0){if(!this.config.allowRightClick){return}}}this.isup=false;this.onBounce=false;var s=$.getTouchPoints(n);this.oEl=d;this.multiRefInfo=this.multiTouchTarget&&this.multiTouchTarget[0]?this.multiTouchTarget:(this.target&&this.target[0]?this.target:d);this.sx=s.pageX;this.sy=s.pageY;this.vdx=0;this.lastdx=this.vdx;this.vdy=0;this.lastdy=this.vdy;this.dx=0;this.dy=0;this.touchIdentifier=s.identifier;this.config.inertiaIsFunc=typeof this.config.inertia=="function";this.mousedownTime=new Date()-1;this.eType=n?n.type:"mousedown";if(this.config.down){this.config.down.apply(this,[d,n])}if($.browser.msie&&$.hasPointerTouch){if(n.preventManipulation){n.preventManipulation()}if(n.originalEvent&&n.originalEvent.preventManipulation){n.originalEvent.preventManipulation()}if(typeof d[0].style.touchAction!="undefined"&&d[0].style.touchAction.toString().indexOf("pan-")<0){}if(typeof d[0].style.msTouchAction!="undefined"&&d[0].style.msTouchAction.toString().indexOf("pan-")<0){}}this.scrollIDIdentity=this.config.exclusiveID||"scrollident";this.config.clampDx=this.config.clampDx||function(e){return e};this.config.clampDy=this.config.clampDy||function(e){return e};this.config.canMove=this.config.canMove||function(t,e){this.cursorMoved=true;return Math.abs(t)>=2||Math.abs(e)>=2};this.clickName="click";this.movefunc=function(t){r.mousemove(t)};this.upfunc=function(t){r.mouseup(t)};if(this.eventDownName=="touchstart"){this.eventMoveName="touchmove";this.eventUpName="touchend"}else{if(this.eventDownName=="mspointerdown"){this.eventMoveName="MSPointerMove";this.eventUpName="MSPointerUp"}else{if(this.eventDownName=="pointerdown"){this.eventMoveName="pointermove";this.eventUpName="pointerup"}else{this.eventMoveName="mousemove";this.eventUpName="mouseup"}}}var o="tt"+this.scrollIDIdentity;var c=this.eventDownName+this.touchIdentifier;var a=d.attr(o)+"";d.attr(o,(a.indexOf("touch")>=0||a.indexOf("pointer")>=0)&&c.indexOf("mouse")>=0?a:c);if(r.eventDownName=="mousedown"){if(!$.allowMouseClick(this.sx,this.sy)){r.moved=true;r.mouseMoveDisabled=true}}if($.browser.chrome){if(r.eventDownName=="pointerdown"){$.hasPointerDownEv=true}if($.hasPointerDownEv){if(r.eventDownName=="touchstart"){$.lockPointerDownEv=true}}}if($.lockPointerDownEv&&r.eventDownName=="pointerdown"){r.moved=true;r.mouseMoveDisabled=true;return}if(r.eventDownName=="touchstart"||r.eventDownName=="mspointerdown"||r.eventDownName=="pointerdown"){$.recordTouchClick(this.sx,this.sy)}if(r.eventDownName=="mousedown"&&((d.attr(o)+"").indexOf("touch")>=0||(d.attr(o)+"").indexOf("pointer")>=0)){r.moved=true;r.mouseMoveDisabled=true}if(this.config.exclusive&&this.target&&!this.moved){this.exclusiveID=(new Date()-1)+"";this.target.attr(this.scrollIDIdentity,this.exclusiveID)}this.releaseTMAttr=(function(t,e,u){return function(){setTimeout(function(){if(t.attr(e)==u){t.removeAttr(e)}},2500)}})(d,o,c);this.touchCount=1;var p=this.config.multitouch&&$.browser.msie;var b;if(p){var g=this.multiRefInfo;b=g;$.draggerManager.msgestures=$.draggerManager.msgestures||{};$.draggerManager.msgesturesMgr=$.draggerManager.msgesturesMgr||{};$.draggerManager.msgestureDone=$.draggerManager.msgestureDone||{};var h=g.attr("mstouch"+this.scrollIDIdentity);if(!h||!$.draggerManager.msgesturesMgr[h]||$.draggerManager.msgestureDone[h]){h=(new Date()-1)+"";g.attr("mstouch"+this.scrollIDIdentity,h)}}if(p&&("MSGesture" in window)){if(q.pointerId){var l=$.draggerManager.msgestures[h];if(l){this.gesturestop=true;if(this.config.cancelTouch){this.config.cancelTouch.apply(this)}l.addPointer(q.pointerId);var m=$.draggerManager.msgesturesMgr[h];if(m){m.touchCount=2;if(m.touchCount==2){m.multiTouchInfo={rotation:0,scale:1,dx:0,dy:0};m.mslastTouchInfo={rotation:0,scale:1,dx:0,dy:0};if(m.config.touchCountChange){m.config.touchCountChange.apply(m)}}}return}else{if(this.multiRefInfo&&this.multiRefInfo[0]){var l=new MSGesture();l.target=this.multiRefInfo[0];l.addPointer(q.pointerId);$.draggerManager.msgestures[h]=l;$.draggerManager.msgesturesMgr[h]=this;this.msTouchID=h;this.touchCount=1;this.updateMsTouch=$.rateLimit((function(e){return function(){e.multiTouchInfo=$.extend({},e.mslastTouchInfo);e.needUpdate=true;if(!e.mouseMoveDisabled&&!$.lockPointerDownEv){if(e.config.move){e.config.move.apply(e,[0,0])}}}})(this),16);this.iegesturestartfunc=function(t){r.gesturestart(t)};this.iegestureendfunc=function(t){r.gestureend(t)};this.iegesturechangefunc=function(t){r.gesturemove(t)};document.body.addEventListener("MSGestureStart",this.iegesturestartfunc,false);document.body.addEventListener("MSGestureEnd",this.iegestureendfunc,false);document.body.addEventListener("MSGestureChange",this.iegesturechangefunc,false)}}}}if($.browser.chrome&&!$.browser.msie&&($.browser.version>=56||$.hasListenerPassiveOptions())){$(document).bind(this.eventMoveName,this.movefunc,{passive:false});$(document).bind(this.eventUpName,this.upfunc,{passive:false})}else{$(document).bind(this.eventMoveName,this.movefunc);$(document).bind(this.eventUpName,this.upfunc)}var j=$.getMultiTouches(n,this.config.multitouchExclusive&&this.multiRefInfo&&this.multiRefInfo[0]?this.multiRefInfo:null);if(j&&!(p&&("MSGesture" in window))&&n&&n.type=="touchstart"){this.touchCount=j?j.length:1;if(this.touchCount==2){this.multiTouchRefInfo=$.getMultiTouchInfo(n,null,this.config.multitouchExclusive&&this.multiRefInfo&&this.multiRefInfo[0]?this.multiRefInfo:null);this.multiTouchInfo=this.multiTouchRefInfo;if(this.config.touchCountChange){this.config.touchCountChange.apply(this)}}}},gesturestart:function(a){},gesturemove:function(a){if(this.config.multitouchExclusive&&this.multiRefInfo){if(a.target!=this.multiRefInfo[0]){return}}if(this.multiTouchInfo){this.mslastTouchInfo.rotation+=a.rotation*180/Math.PI;this.mslastTouchInfo.scale*=a.scale;this.mslastTouchInfo.dx+=a.translationX;this.mslastTouchInfo.dy+=a.translationY;this.updateMsTouch()}},gestureend:function(a){$.draggerManager.msgestureDone[this.msTouchID]=1;if(this.config.multitouch&&$.browser.msie){if(this.iegesturestartfunc){$.draggerManager.msgestureDone[this.msTouchID]=1;if($.draggerManager.msgesturesMgr[this.msTouchID]){delete $.draggerManager.msgesturesMgr[this.msTouchID]}if($.draggerManager.msgestures[this.msTouchID]){$.draggerManager.msgestures[this.msTouchID].stop();delete $.draggerManager.msgestures[this.msTouchID]}document.body.removeEventListener("MSGestureStart",this.iegesturestartfunc,false);document.body.removeEventListener("MSGestureEnd",this.iegestureendfunc,false);document.body.removeEventListener("MSGestureChange",this.iegesturechangefunc,false)}}},mousemove:function(i){if($.browser.msie&&this.gesturestop){return}if($.browser.msie&&$.hasPointerTouch){if($.isMobileIE){}else{$.stop(i)}}if($.isTouchBase&&(!$.hasScrollTouch())){var c=true;if($.android){if(!("checkAndroidShouldStop" in this)){if($(ev.target).parents("[forcescroll]")[0]){var d=$(i.target);while(d[0]){if(d.css("overflow")=="scroll"){c=false;break}d=d.parent()}}this.checkAndroidShouldStop=c}c=this.checkAndroidShouldStop}if(c){$.stop(i)}}var h=$.getTouchPointChanges(i,this.touchIdentifier);if(!h){return}if(this.touchIdentifier&&h.identifier){if(h.identifier!=this.touchIdentifier){return}}if(this.config.multitouch){this.updateTouchCount(i)}var b=h.pageX-this.sx;var a=h.pageY-this.sy;var g=false;if($.android&&this.eType=="touchstart"){g=Math.abs(b)>=2||Math.abs(a)>=2||Math.abs(b)+Math.abs(a)>=3}else{g=b!=0||a!=0}if((g)||this.moved){if(!this.moved){if(this.config.canMove.apply(this,[b,a])===true){this.moved=true}}if(this.moved&&!this.mouseMoveDisabled){this.logMovement(b,a,i)}}},updateTouchCount:function(g){var d=$.getMultiTouches(g,this.config.multitouchExclusive&&this.multiRefInfo&&this.multiRefInfo[0]?this.multiRefInfo:null);var b=d?d.length:1;var a=this.config.multitouch&&$.browser.msie;if(!d||(a&&("MSGesture" in window))){return}if(this.eType!="touchstart"){return}if(this.touchCount==1&&b==2){this.multiTouchRefInfo=$.getMultiTouchInfo(g,null,this.config.multitouchExclusive&&this.multiRefInfo&&this.multiRefInfo[0]?this.multiRefInfo:null);this.multiTouchInfo=this.multiTouchRefInfo;this.touchCount=b;if(this.config.touchCountChange){this.callConfigFunc("touchCountChange",[])}}else{if(this.touchCount==2&&b==1&&!this.config.remainAt2){var c=$.getTouchPointChanges(g,this.touchIdentifier);this.sx=c.pageX;this.sy=c.pageY;this.vdx=0;this.lastdx=this.vdx;this.vdy=0;this.lastdy=this.vdy;this.dx=0;this.dy=0;this.mousedownTime=new Date()-1;this.touchCount=b;if(this.config.touchCountChange){this.callConfigFunc("touchCountChange",[])}}else{if(this.touchCount==2){if(b>=2){this.multiTouchInfo=$.getMultiTouchInfo(g,this.multiTouchRefInfo,this.config.multitouchExclusive&&this.multiRefInfo&&this.multiRefInfo[0]?this.multiRefInfo:null)}}}}},mouseup:function(g){if($.browser.msie&&this.gesturestop){return}var d=$.getTouchPointChanges(g,this.touchIdentifier);if(!d){return}if(this.touchIdentifier&&d.identifier){if(d.identifier!=this.touchIdentifier){return}}if("touches" in g){if(g.touches.length==1){return}}var c=d.pageX-this.sx;var a=d.pageY-this.sy;this.callConfigFunc("preup",[this.dx,this.dy]);this.upEvent=g;this.isup=true;this.update();this.mouserelease(g);if(this.cursorMoved){this.moved=true}var b=this;if(this.config.bounce||this.config.shouldSlide){if(this.timer){clearRequestInterval(this.timer)}this.timer=window.requestInterval(function(){b.update(g)},$.timerMultiplicator*5)}},mouserelease:function(a){if(this.releaseTMAttr){this.releaseTMAttr()}$(document).unbind(this.eventMoveName,this.movefunc);$(document).unbind(this.eventUpName,this.upfunc);if(this.config.multitouch&&$.browser.msie){if(this.touchCount==1){if(this.iegesturestartfunc){$.draggerManager.msgestureDone[this.msTouchID]=1;if($.draggerManager.msgesturesMgr[this.msTouchID]){delete $.draggerManager.msgesturesMgr[this.msTouchID]}if($.draggerManager.msgestures[this.msTouchID]){$.draggerManager.msgestures[this.msTouchID].stop();delete $.draggerManager.msgestures[this.msTouchID]}document.body.removeEventListener("MSGestureStart",this.iegesturestartfunc,false);document.body.removeEventListener("MSGestureEnd",this.iegestureendfunc,false);document.body.removeEventListener("MSGestureChange",this.iegesturechangefunc,false)}}}},revoke:function(){this.mouserelease();this.clearTimer()},exclusiveTrap:function(){return this.config.exclusive&&this.target&&(this.exclusiveID!=this.target.attr(this.scrollIDIdentity))},callConfigFunc:function(a,b){if(this.config[a]){if(this.exclusiveTrap()){if(!this.moveCancelled){this.moveCancelled=true;if(this.config.cancel){this.config.cancel.apply(this)}}this.revoke()}else{this.config[a].apply(this,b)}}},scrollDone:function(){this.clearTimer();if(this.scrollDoneCalled){return}this.scrollDoneCalled=true;this.callConfigFunc("up",[this.dx,this.dy]);if(!this.mouseMoveDisabled){if((new Date()-1)<this.mousedownTime+400){this.callConfigFunc("click",[null,this.upEvent]);if($.isTouchBase){if(!$(".cc-hidden")[0]){var a=$("<span skip='1' class='cc-hidden'></span>");a.appendTo(document.body)}if(!$(".cc-hidden").hasClass("hidden-styled")){var a=$(".cc-hidden");a.css({position:"absolute",fontSize:1,width:1,height:1,top:0,left:0,overflow:"hidden",visibility:"none"});a.addClass("hidden-styled")}$(".cc-hidden").text(""+Math.random())}}}},clearTimer:function(){if(this.timer){clearRequestInterval(this.timer);this.timer=null}if(this.dragTimer){clearRequestInterval(this.dragTimer);this.dragTimer=null}},update:function(c){if(this.mouseMoveDisabled){return}if(!this.config){return}if(!this.timer&&!this.config.bounce){this.scrollDone();return}else{if(this.isup&&!this.config.shouldSlide){this.scrollDone();return}else{if(this.isup&&this.config.shouldSlide){if(this.config.bounce&&this.onBounce){var g=this.tx-this.dx;var d=this.ty-this.dy;if(Math.abs(g)<=1){this.xdone=true}if(Math.abs(d)<=1){this.ydone=true}this.dx=this.dx+Math.min(this.vbounce,Math.abs(g))*(g<0?-1:1)*$.timerMultiplicator;this.dy=this.dy+Math.min(this.vbounce,Math.abs(d))*(d<0?-1:1)*$.timerMultiplicator;this.dx=this.config.clampDx.apply(this,[this.dx]);this.dy=this.config.clampDy.apply(this,[this.dy])}else{this.dx+=this.vdx*$.timerMultiplicator;this.dy+=this.vdy*$.timerMultiplicator;this.dx=this.config.clampDx.apply(this,[this.dx]);this.dy=this.config.clampDy.apply(this,[this.dy]);var b=this.config.inertia?(this.config.inertiaIsFunc?this.config.inertia.apply(this):this.config.inertia):0.95;this.vdx=this.vdx*Math.pow(b,$.timerMultiplicator);this.vdy=this.vdy*Math.pow(b,$.timerMultiplicator);if(Math.abs(this.vdy)<=1){this.ydone=true;this.vdy=0}if(Math.abs(this.vdx)<=1){this.xdone=true;this.vdx=0}if(this.config.bounce&&this.xdone&&this.ydone){var a=this.config.bounce.apply(this,[this.dx,this.dy]);if(a&&this.tx!=undefined&&this.ty!=undefined){this.vbounce=Math.min(30,(Math.max(Math.abs(this.tx-this.dx)+0*Math.abs(this.vdx))/2,(Math.abs(this.ty-this.dy)+0*Math.abs(this.vdy))/2)/10);this.xdone=false;this.ydone=false;this.onBounce=true}else{}}}}else{if(this.shouldUpdateLastXY){this.vdx=(this.dx-this.lastdx)/$.timerMultiplicator;this.vdy=(this.dy-this.lastdy)/$.timerMultiplicator;this.lastdx=this.dx;this.lastdy=this.dy}}}}this.callConfigFunc("premove",[this.dx,this.dy,c]);this.lastUpdateE=c;this.needUpdate=true;if(this.xdone&&this.ydone){this.scrollDone()}},logMovement:function(c,a,d){this.dx=this.config.clampDx.apply(this,[c]);this.dy=this.config.clampDy.apply(this,[a]);var b=this;if(!this.timer){this.timer=window.requestInterval(function(){if(new Date()-1>b.lastLogTime+2*$.timerMultiplicator*25){var e=b.config.inertia?(b.config.inertiaIsFunc?b.config.inertia.apply(b):b.config.inertia):0.95;b.vdx=b.vdx*Math.pow(e,$.timerMultiplicator);b.vdy=b.vdy*Math.pow(e,$.timerMultiplicator)}},$.timerMultiplicator*25)}this.shouldUpdateLastXY=false;this.lastLogTime=this.lastLogTime?this.lastLogTime:new Date()-1;if(new Date()-1>this.lastLogTime+$.timerMultiplicator*25){this.lastLogTime=new Date()-1;this.shouldUpdateLastXY=true}this.update(d);if(!this.isup){if(!this.dragTimer){this.dragTimer=window.requestInterval(function(){if(b.needUpdate){if($.browser.msie&&b&&b.msTouchID&&b.touchCount==2){b.callConfigFunc("move",[b.dx,b.dy,b.lastUpdateE])}else{b.callConfigFunc("move",[b.dx,b.dy,b.lastUpdateE])}b.needUpdate=false}},12)}}}};$.multiClicksHandler=function(a){a.wait=a.wait||1200;a.setup=a.setup||function(){};var b={down:function(d,e){var c=this;this.config.setup.apply(c,[d,e]);if(d.attr("tapped")=="1"){d.attr("tapped","2")}else{d.attr("tapped","1");setTimeout(function(){if(c.isup){if(c.target.attr("tapped")=="2"){c.config.dblclick.apply(c,[d,e])}else{if(c.target.attr("tapped")=="1"){c.config.click.apply(c,[d,e])}}}c.target.attr("tapped",null)},300);setTimeout(function(){c.longHold=true},c.config.wait)}var c=this;this.target=d;this.moved=true},move:function(){this.target.attr("tapped",null)},up:function(c,d){if(this.longHold){this.config.hold.apply(this,[c,d])}}};a.click=a.click||function(){};a.dblclick=a.dblclick||function(){};a.hold=a.hold||function(){};$.extend(b,a);return b};$.gestureAfterHold=function(a){a.canMove=a.canMove||function(d,c){return Math.abs(d)>2||Math.abs(c)>2};a.setup=a.setup||function(){};a.wait=a.wait||1200;a.down=a.down||function(){};a.up=a.up||function(){};a.click=a.click||function(){};var b=$.subclass(a,{down:function(d,e){var c=this;this.container=d;this.config.superKlass.setup.apply(c,[d,e]);this.config.timeup=false;this.config.onhold=false;this.config.timeout=setTimeout(function(){c.config.timeup=true;c.config.timeout=null;if(!c.isup&&!c.moved){c.moved=true;c.container.attr("gesturehold","1");if(!c.config.displaced){c.config.superKlass.down.apply(c,[d,e]);c.config.onhold=true}}},c.config.wait)},canMove:function(d,c){if(this.config.timeup){if(!this.config.displaced){this.moved=true}return !this.config.displaced}else{if(this.config.superKlass.canMove.apply(this,[d,c])){this.config.displaced=true}return(this.config.immediateHoldRelease?true:false)}},up:function(d,e){var c=this;setTimeout(function(){c.container.removeAttr("gesturehold")},10);this.config.superKlass.up.apply(c,[d,e])}});return b};$.scUnit={mouse:{x:{scs:"scrollLeft",scm:"scrollWidth",cmax:"width"},y:{scs:"scrollTop",scm:"scrollHeight",cmax:"height"}},touch:{x:{scs:"scrollPosX",scm:"scrollWidth",cmax:"width"},y:{scs:"scrollPosY",scm:"scrollHeight",cmax:"height"}},touch3D:$.isTouchBase||(window.location+"").indexOf("#3D")>0,useScroll:($.isTouchBase&&!$.iDevice)||(window.location+"").indexOf("#3DScroll")>0};$.delegateScroller={};$.crushSafariBouncy=function(g,j){if(j&&j.target){var a=$(j.target);while(a[0]){if(a[0]==g[0]){break}if(a[0]==document.body){break}if((a.attr("jsclass")+"").indexOf("scroll-y")>=0&&a[0]!=g[0]){return}a=a.parent()}}if($.browser.safari&&!$.browser.chrome&&!$.browser.msie&&!$.iDevice){var l=Math.abs(j.wheelDeltaX)>Math.abs(j.wheelDeltaY);var i="wheelDeltaX" in j;var n=l;var p=(j.axis==1);var e=(i&&n)||(!i&&p)?1:0;var s=(j.detail?j.detail*j.detail:j.wheelDelta);var r=Math.abs(j.wheelDeltaY||s)*((j.detail?-j.detail:j.wheelDelta)<0?-1:1);var o=false;var m=0;if(g[0].scrollTop<2){if(r>0){o=true;m=Math.abs(g[0].scrollTop)}else{g.removeClass("no-scroll-bouncy")}}else{if(g[0].scrollTop>g[0].scrollHeight-2-g.height()){if(r<0){o=true;m=Math.abs(g[0].scrollTop-g[0].scrollHeight-g.height())}else{g.removeClass("no-scroll-bouncy")}}else{if(g.hasClass("no-scroll-bouncy")){g.removeClass("no-scroll-bouncy")}}}if(o){if(!$.theme.CSSPrevenScroll){$.theme.CSSPrevenScroll=1;$.theme.registerCSS("CSSPrevenScroll",".no-scroll-bouncy { overflow-y : hidden !important }")}var h=g.css("overflow-y")+"";if(h!="hidden !important"&&h!="hidden"){g.addClass("no-scroll-bouncy");setTimeout(function(){g.addClass("no-scroll-bouncy")},1);var d=Math.max(100,Math.min(900,m*10));var q=parseInt(g.attr("bouncytimestamp")||0);g.attr("bouncytimestamp",Math.max(q,new Date-1+d)+"");setTimeout(function(){var b=parseInt(g.attr("bouncytimestamp")||0);if(new Date-1>b){g.removeClass("no-scroll-bouncy")}},d+30)}}}};for(var k in $.scUnit.mouse){if(k!="x"&&k!="y"){continue}(function(b){var a=function(j){return $.delegateScroller["scroll-"+b+"["+j+"]"]};var i=function(j){return j.parent().children("div.scbar-"+b).children("div.scbar-line:first")};var d=function(j){return j.parent().parent().children(":first")};var h=function(j,l){j.parent().removeClass("hover").addClass(l)};var g={"scroll[scroll]":function(l,r){$.crushSafariBouncy(l,r);if($.noIEScroll&&$.browser.msie){return}if($.noFirefoxScroll&&$.browser.mozilla){return}if(l.hasClass("iscroll")&&l.css("overflow")!="hidden"&&!($.scUnit.touch3D&&!$.scUnit.useScroll)){a("scrollto")(l,0);return}var s=r;if("originalEvent" in r){s=r.originalEvent}var w=b=="x";var u=Math.abs(s.wheelDeltaX)>Math.abs(s.wheelDeltaY);var t="wheelDeltaX" in s;var y=!(w||u)||(w&&u);var z=!(s.axis==1||w)||(s.axis==1&&w);var m=(t&&y)||(!t&&z)?1:0;if(l.hasClass("firefox-absolute-scroll")&&m==1&&!($.scUnit.touch3D&&!$.scUnit.useScroll)){if(!l.attr("firefox-scroll-wrapper")||!l.parent().children(".firefox-scroll-wrapper")[0]){l.attr("firefox-scroll-wrapper",1);var q=$.checkScrollMode(l);var x=$.scUnit[q][b];var n=l[0][x.scm];if(n>l[x.cmax]()){var j=l.children(".firefox-scroll-wrapper");if(!j[0]){j=$("<div jsclass='firefox-scroll-wrapper' class='firefox-scroll-wrapper'><div style='height:1px;width:1px'></div></div>");j.appendTo(l.parent());if(!$.theme.firefoxScroll){var o=(window.location+"").indexOf("#debug")>=0?1:0;o="filter:"+$.ieAlpha(o*0.01+0.01)+"; opacity:"+o;$.theme.firefoxScroll=1;$.theme.registerCSS("FirefoxSCROLL#CSS",".firefox-scroll-wrapper{z-index:1000;overflow:scroll;height:100%;width:100%;position:absolute;top:0;left:0;"+o+";background:transparent;background:rgba(0,0,0,0.1);}");if($.browser.msie&&("jQuery" in window)){if(regIESc){$.regIESc()}}}j.attr("scrolldir",b)}if(l.attr("scroll"+b)){var n=l[0][x.scm];j.children().css(x.cmax,l[0][x.scm]+0*n);j[0][x.scs]=l[0][x.scs];if($.browser.msie){setTimeout(function(){var p=l[0][x.scm];j.children().css(x.cmax,l[0][x.scm]+0*p);j[0][x.scs]=l[0][x.scs]},1)}}}}return}var A=Math.abs((s.detail?s.detail*s.detail*20:s.wheelDelta));if(!($.scUnit.touch3D&&!$.scUnit.useScroll)){A=Math.pow(A,0.6)*(s.detail?9:6);A=Math.log(A)/Math.log(1.4566)*m}if(Math.random()<(s.detail?1:0.8)){a("scrollto")(l,A*((s.detail?-s.detail:s.wheelDelta)<0?-1:1))}if(r.stopPropagation){r.stopPropagation();r.preventDefault()}},"scroll[scrollto]":function(m,o){if(($.scUnit.touch3D&&!$.scUnit.useScroll)&&!$.hasScrollTouch()){a("touchscrollto")(m,o);return}var l=m[0];var n=$.checkScrollMode(m);var j=$.scUnit[n][b].scs;l[j]=(l[j]||0)-o;a("RefreshScroll")(m)},"scroll[touchscrollto]":function(o,q){if($.scUnit.touch3D&&!$.scUnit.useScroll){var m=o.css("-webkit-transform");var j=new WebKitCSSMatrix(m)[b=="x"?"m41":"m42"];var l=Math.max(-(o.height()-o.parent().height()),Math.min(0,j+q));var n=o;if(b=="y"){n.parent().css("overflow","hidden");n.css("min-height","100%");n.height("auto")}if(b=="x"){n.css("WebkitTransform","translate3D("+(Math.round(l))+"px,0,0)")}else{n.css("WebkitTransform","translate3D(0,"+(Math.round(l))+"px,0)");this.target.attr("scrolldy",(Math.round(l)))}}},"scroll[jumpto]":function(l,t,m){var n=l[0];var r=$.checkScrollMode(l);var s=$.scUnit[r][b].scs;var o=$.scUnit[r][b].cmax;if(typeof t!="number"){if(t[0]){var j=b=="x"?"left":"top";var u=$(t).offset()[j]-l.offset()[j]+n[s];var q=$(t)[o]();if(!m){if(!(n[s]<u&&n[s]+l[o]()>u+q)){n[s]=u}}else{n[s]=u}}}else{n[s]=t}},"scroll[show]":function(m,l){if($.noIEScroll&&$.browser.msie){m.css("overflow","auto");return}if($.noFirefoxScroll&&$.browser.mozilla){m.css("overflow","auto");return}var j=i(m);if($.browser.msie){m.css("overflow","hidden");m.addClass("firefox-absolute-scroll");m.addClass("iscroll");m.attr("scroll"+b,"1");if($.isIETouch){m.css("overflow","scroll");m.css("-ms-overflow-style","none");m.css("overflow-style","none")}m.css("-ms-touch-action","pan-x pan-y");m.css("-ms-scroll-rails","railed");m.css("touch-action","pan-x pan-y");m.css("scroll-rails","railed")}if($.browser.safari||$.browser.chrome||$.browser.mozilla){if(b=="y"||!($.scUnit.touch3D&&!$.scUnit.useScroll)){m.addClass("iscroll-"+b)}m.addClass("iscroll");if($.browser.mozilla){if($.browser.version>48){m.css("overflow","auto !important")}else{m.css("overflow","hidden !important")}m.addClass("firefox-absolute-scroll");m.attr("scroll"+b,"1");if("jQuery" in window){if(!$.iscrollOverflowRewrite){$.iscrollOverflowRewrite=true;$.theme.registerCSS("ISCROLL#OVERWRITECSS",".iscroll-y,.iscroll-x{overflow-y:hidden !important}")}}}}if(!j[0]){if(m.parent().css("position")!="absolute"){m.parent().css("position","relative")}j=$("<div class='scbar-"+b+"' jsclass='scbar-"+b+"' absolute='1'>						<div class='scbar-line'><b jsclass='scion-"+b+"' class='"+(m.attr("white")?"white":"")+"'></b></div>					</div>").appendTo(m.parent())}a("RefreshScroll")(m)},"scroll[hide]":function(l){var j=i(l);if(j[0]){j.css("opacity",$.android?0.05:0)}},"scroll[mouseover]":function(j){j.attr("ishover","1");a("show").apply(this,arguments)},"scroll[mouseout]":function(j){j.attr("ishover","0");a("hide").apply(this,arguments)},"scbar[mouseover]":function(l){arguments[2]=true;if(!l.children().attr("nohover")){l.children().css("opacity",1)}var j=i(l);j.attr("onhover","1");h(j,"hover")},"scbar[mouseout]":function(l){l.children().css("opacity",0);var j=i(l);j.attr("onhover",null);if(j.attr("on-drag")=="1"){return}h(j,"")},"scion[gesture]":{down:function(o,n){var m=this;this.container=d(o.parent());var r=$.checkScrollMode(this.container);var l=$.scUnit[r][b].scs;this.scrollMode=r;this.oscroll=this.container[0][l];this.scrollChange=a("RefreshScroll");var q=a("calculate")(o,this.container);this.ratio=q.ratio;this.updateBar=function(){m.scrollChange(m.container)};var j=i(this.container);j.attr("on-drag","1");n.stopPropagation();n.preventDefault()},move:function(m,l){var n=this.scrollMode;var j=$.scUnit[n][b].scs;this.container[0][j]=this.oscroll+(b=="x"?m:l)*this.ratio;this.updateBar()},up:function(){var j=i(this.container);j.attr("on-drag",null);if(j.attr("onhover")!="1"){h(j,"")}}},"scbar[click]":function(l,r){var m=l.children(":first").children(":first");var j=l.parent().children(":first");var o=$.checkScrollMode(j);var q=$.scUnit[o][b].scs;var t=$.scUnit[o][b].cmax;var u=b=="y"?(r.pageY-l.offset().top):(r.pageX-l.offset().left);var n=u-m[t]()/2;var s=a("calculate")(m,j);var w=j[0][q]=n/s.avBar*s.avHg;n=w/s.ratio;if(b=="y"){m.css({top:n+1,height:Math.max(4,s.dgHg)})}else{m.css({left:n+1,width:Math.max(4,s.dgHg)})}},"scbar[scroll]":function(m,l){var j=m.parent().children(":first");$.actor.getListener("scroll-"+b+"[scroll]")(j,l)},"scroll[calculate]":function(q,m){var r=$.checkScrollMode(m);var l=$.scUnit[r][b].cmax;var j=$.scUnit[r][b].scm;var n=$.scUnit.touch3D&&!$.scUnit.useScroll&&b=="y"?m.children(":first")[l]():m[0][j]||0;var o=m[l]();var p={scHg:q.parent()[l]()-2,avHg:Math.max(0,n-o)};p.dgHg=o/Math.max(1,n)*p.scHg;p.avBar=Math.max(0,p.scHg-p.dgHg);p.ratio=Math.max(1,p.avHg/Math.max(1,p.avBar));return p},"scroll[RefreshScroll]":function(o){if(!o){return}var s=$.checkScrollMode(o);var l=$.scUnit[s][b].scs;var j=i(o);if(j[0]){var n=j.children(":first");var r=a("calculate")(n,$.scUnit.touch3D&&!$.scUnit.useScroll?o.parent():o);var q=Math.round(o[0][l]/r.ratio);if(b=="y"){n.css({top:q+1,height:Math.max(4,r.dgHg)})}else{n.css({left:q+1,width:Math.max(4,r.dgHg)})}var m=r.avHg==0;j[m?"attr":"removeAttr"]("nohover","1");j.css("opacity",m?0:1);n.css("opacity",m?0:1)}}};if($.scUnit.touch3D&&!$.scUnit.useScroll){delete g["scbar[mouseover]"];delete g["scbar[mouseout]"];delete g["scbar[click]"];delete g["scion[gesture]"];delete g["scroll[mouseover]"];delete g["scroll[mouseout]"]}if($.hasPointerTouch){delete g["scion[gesture]"]}var e={};for(var c in g){e[c.replace("[","-"+b+"[")]=g[c]}for(var c in e){$.delegateScroller[c]=e[c]}$.act(e,{subKlassName:"scroll-"+b})})(k)}$.checkScrollMode=function(a){if($.scUnit.touch3D&&!$.scUnit.useScroll&&!$.hasScrollTouch()){return"touch"}if($.hasScrollTouch()){if(a&&a.attr&&a.attr("normaltouchscroll")){return"touch"}}return"mouse"};$.act({"firefox-scroll-wrapper[scroll]":function(c,j){if(!c.hasClass("size-measured")){var a=c.parent().children(".firefox-absolute-scroll");var i=$.checkScrollMode(a);var l=$.scUnit[i][c.attr("scrolldir")];var d=a[0][l.scm];c.children().css(l.cmax,a[0][l.scm]+0*d);c[0][l.scs]=a[0][l.scs];c.addClass("size-measured");return}var g={};var h=(function(m){return function(){if(!c.parent()[0]){clearInterval(m.interval);return}if(e.attr("scrolly")){e[0].scrollTop=c[0].scrollTop;$.delegateScroller["scroll-y[scrollto]"](e,0)}if(e.attr("scrollx")){e[0].scrollLeft=c[0].scrollLeft;$.delegateScroller["scroll-x[scrollto]"](e,0)}}})(g);if(!c.hasClass("intervalled")){c.addClass("intervalled");g.interval=setInterval(h,10)}c.attr("timestamp",new Date()-1);var b=$.browser.msie?480:720;setTimeout(function(){if(new Date()-parseInt(c.attr("timestamp"))>b-1){c.remove();h()}},b);var e=c.parent().children(".firefox-absolute-scroll");h();$.axe(j)},"firefox-scroll-wrapper[mousedown]":function(a,b){a.remove()}});$.fn.iscrollTo=function(a,c,b){if(a){this.each(function(d,e){$.actor.getListener("scroll-x[jumpto]")($(e),a,b)})}if(c){this.each(function(d,e){$.actor.getListener("scroll-y[jumpto]")($(e),c,b)})}return this};$.fn.scrollToMe=function(a,c,b){this.each(function(d,g){var e=$(g).parent();while(e[0]){if((e.attr("jsclass")+"").indexOf("scroll-y")>=0){e.iscrollTo(null,$(g));e.parent().iscrollTo(null,$(g));break}else{if((e.attr("jsclass")+"").indexOf("scroll-x")>=0){e.iscrollTo($(g),null);e.parent().iscrollTo($(g),null);break}}e=e.parent()}});return this};$.ieAlpha=function(a){return"alpha(opacity="+Math.round(100*a)+")"};$(document).ready(function(){var a;$.theme.registerCSS("SCROLL-Y#CSS",a=".scbar-y,.scbar-y div,.scbar-y b{top:0;right:0;position:absolute}.scbar-y{width:8px;height:100%;cursor:pointer;overflow:hidden;padding:2px 0px 2px 0px;-webkit-box-sizing:border-box;box-sizing:border-box}.scbar-y.hover{width:30px;padding:0px;}.scbar-y div{width:6px;height:100%;background:#000;background:rgba(0,0,0,0.3);overflow:visible;opacity:0;-webkit-border-radius:3px;border-radius:3px;-webkit-transition:opacity ease-in-out "+($.android?".2s":".7s")+";margin-left:0px;position:relative}.scbar-y b{top:1px;right:1px;position:absolute;-webkit-border-radius:2px;border-radius:2px;background:#000;width:4px;height:20px}.scbar-y b.white{background:#FFF}.scbar-y.hover div{margin-left:15px;width:15px;-webkit-border-radius:0;border-radius:0;background:rgba(0,0,0,0.1)}.scbar-y.hover b{width:13px;-webkit-border-radius:6px;border-radius:6px}".replace(/-webkit/g,$.cssPrefix));$.theme.registerCSS("SCROLL-X#CSS",a.replace(/width/ig,"www").replace(/height/ig,"width").replace(/www/ig,"height").replace(/right/ig,"bottom").replace(/left/ig,"lll").replace(/top/ig,"left").replace(/lll/ig,"top").replace(/-y/ig,"-x"));if($.browser.safari||$.browser.chrome||$.browser.mozilla){if(!$.theme.iscroll){$.theme.iscroll=1;$.theme.registerCSS("ISCROLL#CSS",".iscroll-y::-webkit-scrollbar,.iscroll-x::-webkit-scrollbar{display:none}v::-webkit-scrollbar,w::-webkit-scrollbar,h::-webkit-scrollbar{display:none}.iscroll-y{overflow-y:auto !important}.iscroll-x{overflow-x:auto !important}")}}if($.browser.msie&&("jQuery" in window)){if($.regIESc){$.regIESc()}}});(function(){var a=function(d){var b="o"+d;var c=d=="x";var g={};var e="scroll-"+d+"[gesture]";g[e]={updateBar:function(h){var i=Math.round(h.target[0][h.dimScroll]/h.sc.ratio);if(h.lastOffset!=i){h.lastOffset=i;if(h.sc.avHg>0){if(c){h.dragger.css({left:i,width:Math.max(4,h.sc.dgHg)})}else{h.dragger.css({top:i,height:Math.max(4,h.sc.dgHg)})}}if(!h.firstTime){h.firstTime=true;if(h.sc.avHg>0){h.indicator.css("opacity",$.android?0.95:1)}else{h.indicator.css("opacity",$.android?0.05:0)}}}},exclusive:"scrollyident",shouldSlide:true,down:function(o,n){var j=this;if(!o.attr("candrag")&&!$.scUnit.touch3D){this.noscroll=true;return}var h=((n.type||n.original.type)+"").toLowerCase();if($.scUnit.touch3D&&$.scUnit.useScroll&&h=="mousedown"){this.noscroll=true}this.hasPullToRefresh=(o.attr("jsclass")||"").indexOf("pull-refresh")>=0;if(this.hasPullToRefresh){this.maxBottom=Math.max(0,(o.height()||0)-o.parent().height())}this.maxThreshold=181;if(o.attr("normaltouchscroll")&&$.hasScrollTouch()){if($.canStop(n.target)){$.stop(n)}}if($.scUnit.touch3D&&d=="y"){if(d=="y"&&$.hasScrollTouch()&&!o.attr("normaltouchscroll")){o.css("-webkit-overflow-scrolling","touch");var l={};var i=n.pageY;var m=o[0].scrollTop;$.blockNo=$.blockNo||1;this.noscroll=true;o.css("overflow","scroll");if(n.scrolledY){return}n.scrolledY=true;$.blockNo++;(function(x){if($.hasScrollTouch()&&!$.iDevice){return}var t=j.hasPullToRefresh;var p=m<=0;var u=m>=Math.max(0,(o[0].scrollHeight||0)-o.height());var r=0;var y=0;var w=1;o.css({WebkitTransform:"translate3d(0px,0px,0px)"});var s=$.actor.getListener("pull-refresh[refresh]");s=s||function(){};var z=j.maxThreshold;l.touchMoveFunc=function(C){if(x==$.blockNo){var A=C.pageY-i;var B=Math.max(0,(o[0].scrollHeight||0)-o.height());if(m-A<=0||m-A>=B){if(t){if(p&&m-A<=0){y=-(m-A)+r;if(y<0){r+=-y;y=0}o.css({WebkitTransform:"translate3d(0px,"+Math.min(z,y)+"px,0px)"});if(y>0){w=1}s(o,{up:true,dy:Math.max(0,Math.min(z,y))})}if(u&&m-A>=B){y=(m-A)-B+r;if(y<0){r+=-y;y=0}o.css({WebkitTransform:"translate3d(0px,"+Math.max(-z,-y)+"px,0px)"});if(y>0){w=0}s(o,{up:false,dy:Math.max(0,Math.min(z,y))})}}$.stop(C)}}};l.touchEndFunc=function(){if(t){s(o,{up:w,done:true,dy:y});o.css({WebkitTransform:"translate3d(0px,0px,0px)"})}window.setTimeout(function(){window.scrollTo(0,0)},25);$(document.body).unbind("touchmove",l.touchMoveFunc);$(document.body).unbind("touchend",l.touchEndFunc);$(document).unbind("touchmove",l.touchMoveFunc);$(document).unbind("touchend",l.touchEndFunc);$.blockMove=null};$(document.body).bind("touchmove",l.touchMoveFunc);$(document.body).bind("touchend",l.touchEndFunc);$(document).bind("touchmove",l.touchMoveFunc);$(document).bind("touchend",l.touchEndFunc)})($.blockNo);return}if($.hasScrollTouch()&&!o.attr("normaltouchscroll")){return}}this.target=o;var q=$.checkScrollMode(this.target);this.dimScroll=$.scUnit[q][d].scs;this[b]=(this.target[0][this.dimScroll]||0);if($.scUnit.touch3D&&!$.scUnit.useScroll){if(d=="y"){this.target.parent().css("overflow","hidden");this.target.css("min-height","100%");this.target.height("auto")}else{}if($.delegateScroller["scroll-"+d+"[show]"]){$.delegateScroller["scroll-"+d+"[show]"](o)}this.indicator=this.target.parent().children("div.scbar-"+d).children(":first");this.dragger=this.indicator.children(":first");this.parentTarget=this.target.parent();this.sc=$.delegateScroller["scroll-"+d+"[calculate]"](this.dragger,this.parentTarget)}else{if($.delegateScroller["scroll-"+d+"[show]"]){$.delegateScroller["scroll-"+d+"[show]"](o)}this.indicator=this.target.parent().children("div.scbar-"+d).children(":first");this.dragger=this.indicator.children(":first");this.sc=$.delegateScroller["scroll-"+d+"[calculate]"](this.dragger,this.target)}},canMove:function(j,h){if(this.moveLocked!=undefined){return this.moveLocked}var l=(this.target&&this.target.attr("lock"));if(l){var n=Math.abs(j);var m=Math.abs(h);if((n>2||m>2)&&n!=m){var i=(l=="x"&&n>2&&n>m)||(l=="y"&&m>2&&m>n);this.moveLocked=i;return i}this.moved=false}else{return Math.abs(j)>2||Math.abs(h)>2}},move:function(i,h,l){if(this.noscroll){return}i=~~i;h=~~h;if(i==this.lastDx&&h==this.lastDy){return}this.lastDx=i;this.lastDy=h;var j=this.target[0][this.dimScroll]=(this[b]-(c?i:h));if($.scUnit.touch3D&&!$.scUnit.useScroll){if(c){this.target.css("WebkitTransform","translate3D("+(-Math.round(j))+"px,0,0)")}else{if(this.hasPullToRefresh){j=Math.max(-this.maxThreshold,j);if(this.maxBottom>0){j=Math.min(this.maxBottom+this.maxThreshold,j)}}this.target.css("WebkitTransform","translate3D(0,"+(-Math.round(j))+"px,0)");this.target.attr("scrolldy",(-Math.round(j)))}}this.config.updateBar(this)},up:function(i,h){if(this.noscroll){return 0}if($.scUnit.touch3D||this.target.attr("ishover")=="0"){if($.delegateScroller["scroll-"+d+"[hide]"]){$.delegateScroller["scroll-"+d+"[hide]"](this.target)}}},bounce:function(i,h){if(!($.scUnit.touch3D&&!$.scUnit.useScroll)){return false}if(!this.target){return false}this.indicator=this.target.parent().children("div.scbar-"+d).children(":first");this.dragger=this.indicator.children(":first");this.sc=$.delegateScroller["scroll-"+d+"[calculate]"](this.dragger,$.scUnit.touch3D&&!$.scUnit.useScroll?this.parentTarget:this.target);var j=(this[b]-(c?i:h));if(j<0||(this.sc&&this.sc.avHg&&j>this.sc.avHg)){var l=Math.max(Math.min(j,this.sc&&this.sc.avHg?this.sc.avHg:0),0);if(c){this.tx=-l+(this.ox);this.ty=this.dy}else{this.tx=this.dx;this.ty=-l+(this.oy)}return true}return false}};g[e]["power"]=function(h){return Math.abs(h)*2/3/$.timerMultiplicator};g[e]["clampD"+d]=function(h){if(this.noscroll){return 0}var i=this[b];if(i-h<0){return i+this.config.power(i-h)}if(this.sc&&this.sc.avHg&&i-h>this.sc.avHg){return(i-this.sc.avHg)-this.config.power(i-h-this.sc.avHg)}return h};$.act(g)};a("x");a("y");$.act({"pull-refresh[gesture]":{down:function(b,c){this.container=b;this.shouldCheck=b.hasClass("iscroll")&&!$.browser.msie;var d=Math.max(-parseInt(this.container.attr("scrolldy")||0),this.container[0].scrollTop);if(this.container.attr("scrolldy")){this.maxBottom=Math.max(0,(this.container.height()||0)-this.container.parent().height())}else{this.useTransform=true;this.maxBottom=Math.max(0,(this.container[0].scrollHeight||0)-this.container.height())}this.initiallyTop=d<=0;this.initiallyBottom=d>=this.maxBottom;this.scrollTop=d;this.lastDirection=1;this.pullRefresh=$.actor.getListener("pull-refresh[refresh]");this.pullRefresh=this.pullRefresh||function(){};this.maxThreshold=181},move:function(c,b){if(this.shouldCheck&&(this.initiallyTop||this.initiallyBottom)){b=Math.round(b);if(this.initiallyTop){this.lastDy=b;if(this.useTransform){this.container.css({WebkitTransform:"translate3d(0px,"+Math.min(this.maxThreshold,b)+"px,0px)"})}if(this.lastDy>0){this.lastDirection=1}this.pullRefresh(this.container,{up:true,dy:Math.max(0,Math.min(this.maxThreshold,this.lastDy))})}if(this.initiallyBottom){this.lastDy=-b;if(this.useTransform){this.container.css({WebkitTransform:"translate3d(0px,"+Math.max(-this.maxThreshold,b)+"px,0px)"})}if(this.lastDy>0){this.lastDirection=0}this.pullRefresh(this.container,{up:false,dy:Math.max(0,Math.min(this.maxThreshold,this.lastDy))})}}},up:function(){if(this.shouldCheck){if(this.useTransform){this.container.css({WebkitTransform:"translate3d(0px,0px,0px)"})}this.pullRefresh(this.container,{up:this.lastDirection,done:true,dy:this.lastDy})}}}})})();$.theme={};(function(){var g=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype;var e=window.Blob&&(function(){try{return Boolean(new Blob())}catch(i){return false}}());var h=e&&window.Uint8Array&&(function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(i){return false}}());var d=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var a=0;var b=null;var c=(e||d)&&window.atob&&window.ArrayBuffer&&window.Uint8Array&&function(l){var q,n,p,m,j,o;if(l.split(",")[0].indexOf("base64")>=0){q=atob(l.split(",")[1])}else{q=decodeURIComponent(l.split(",")[1])}n=new ArrayBuffer(q.length);p=new Uint8Array(n);for(m=0;m<q.length;m+=1){p[m]=q.charCodeAt(m)}j=l.split(",")[0].split(":")[1].split(";")[0];if(e){return new Blob([h?p:n],{type:j})}o=new d();o.append(n);return o.getBlob(j)};if(window.HTMLCanvasElement&&!g.toSyncBlob){if(g.mozGetAsFile){g.toSyncBlob=function(i,j){if(j&&g.toDataURL&&c){return(c(this.toDataURL(i,j)))}else{return(this.mozGetAsFile("blob",i))}}}else{if(g.msToBlob){g.toSyncBlob=function(i,j){return this.msToBlob()}}else{if(g.toDataURL&&c){g.toSyncBlob=function(i,j){return(c(this.toDataURL(i,j)))}}}}}if(window.URL&&window.URL.createObjectURL&&g.toSyncBlob){g.fakeBlobURL=function(i,j){if($.isMobileIE){return this.toDataURL(i)}return window.URL.createObjectURL(this.toSyncBlob(i,j))};window.supportBlobURL=true}window.dataURLtoBlob=c}());(function(){var themeSpecs={};var bgPreprocessed={};$.extend($.theme,{performances:{},getTheme:function(key){return themeSpecs[key]},registerTheme:function(specs,arg2){if(typeof specs=="string"&&arg2){specs=arg2}var theme=themeSpecs;for(var key in specs){if(key.match(/^.*\[icon\]$/)){var hash={};hash[key.replace(/\[icon\]$/,"")]=specs[key];$.icons.register(hash);continue}if(key.match(/^.*\[mosaic\]$/)){var hash={};hash[key.replace(/\[mosaic\]$/,"")]=specs[key];$.mosaics.register(hash);continue}var bgSpec=specs[key];bgSpec.gradients=this.normalizeGradients(bgSpec.gradients||[]);bgSpec.css=bgSpec.css||{};bgSpec.radius=this.normalizeRadius(bgSpec.radius);bgSpec.insetShadow=this.normalizeShadow(bgSpec.insetShadow);bgSpec.tones=this.normalizeTones(bgSpec.tones);var icons=this.normalizeIcons([bgSpec.icon]);icons.push.apply(icons,this.normalizeIcons(bgSpec.icons));bgSpec.icons=icons;bgSpec.borders=this.normalizeBorders(bgSpec.borders);bgSpec.sandy=this.normalizeSandy(bgSpec.sandy);bgSpec.fabric=this.normalizeFabric(bgSpec.fabric);bgSpec.stripe=this.normalizeStripe(bgSpec.stripe);bgSpec.sandyMask=this.normalizeGradients(bgSpec.sandyMask||[]);bgSpec.fabricMask=this.normalizeGradients(bgSpec.fabricMask||[]);bgSpec.stripeMask=this.normalizeGradients(bgSpec.stripeMask||[]);bgSpec.tip=this.normalizeTip(bgSpec.topTip,bgSpec.rightTip,bgSpec.bottomTip,bgSpec.leftTip);bgSpec.css=bgSpec.css||{};bgSpec.base=bgSpec.base===true||bgSpec.base===false?bgSpec.base:$.theme.baseDefaulted;var attrs=[];var propertyHash=$.expandHashPrefix(bgSpec.css);for(var k in propertyHash){if(!k.match(/[a-z][A-Z]/)){attrs.push([k,propertyHash[k]].join(":"))}}bgSpec.attrStr=attrs.join(";");theme[key]=bgSpec;if((key.indexOf(":")>0||key.indexOf(".")>0)||bgSpec.mainKey){var mainKey=bgSpec.mainKey?bgSpec.mainKey:key.split(":")[0].split(".")[0];var mainBg=theme[mainKey];if(mainBg){mainBg.subBgKey=mainBg.subBgKey||{};mainBg.subBgKey[key]=1;theme[key].icon=theme[key].icon||mainBg.icon}else{theme[key].subkeyOnly=true}}if(bgSpec.preprocess&&(bgSpec.subkeyOnly||bgSpec.noLazy)){var useCanvas=$.theme.canvasAvailable();if(useCanvas){var themeInfo=$.extend({},bgSpec);themeInfo.wd=themeInfo.width;themeInfo.hg=themeInfo.height;themeInfo.className=themeInfo.selector||key;this.render(null,bgSpec.gradients,bgSpec.icons,themeInfo)}}}},assign:function(element,bgName,force){var A=null;if($.theme.recordPerformance){A=new Date()-1}if(!bgName){bgName=element.attr("bg")}if(!bgName){return}var themeSpec=themeSpecs;if(themeSpec){var issubBgKey=false;if((bgName.indexOf(":")>0||bgName.indexOf(".")>0)){issubBgKey=true}var bgSpec=themeSpec[bgName];if(!bgSpec){return}var dim=this.getDim(element,bgSpec);var themeInfo=$.extend($.extend({},bgSpec),dim);themeInfo.borderImageSupported=themeInfo.borderImage&&$.theme.borderImageSupported();if(themeInfo.borderImageSupported){themeInfo.wd=themeInfo.borderImage[1][0];themeInfo.hg=themeInfo.borderImage[1][1];dim.wd=themeInfo.wd;dim.hg=themeInfo.hg;themeInfo.useBorderImage=true;dim.useBorderImage=true}var key=this.injectKeyWithDim(bgName,dim);themeInfo.bgName=bgName;if(bgSpec.preprocess){bgSpec.className=bgSpec.selector||bgName;themeInfo.className=bgSpec.selector||bgName}if($.isTouchBase||$.android){if(bgSpec.noTouchHover&&(key.indexOf(":hover")>=0||key.indexOf(":active")>=0)){return}}if(!issubBgKey&&!bgSpec.preprocess){element.removeClass(element.attr("bgtheme")||"--bgtheme");element.addClass(key);element.attr("bgtheme",key)}if(this.hasCSSKey(bgSpec.className?bgSpec.className:key)&&force!=true){return}if(bgSpec.preprocess){if(bgPreprocessed[bgSpec.className]){return}}bgPreprocessed[bgSpec.className]=true;var oThis=this;var f=function(){oThis.render(element[0],bgSpec.gradients,bgSpec.icons,themeInfo)};if(issubBgKey&&!bgSpec.immediate&&!$.isTouchBase){$.theme.deferCSS(f)}else{f()}if(!issubBgKey){for(var subkey in bgSpec.subBgKey){this.assign(element,subkey)}}}if($.theme.recordPerformance){$.theme.performances[bgName]=new Date()-A}},getDim:function(element,option){var computedStyle=null;var pdm=null;if(!option.width||!option.height){computedStyle=document.defaultView.getComputedStyle($(element).get(0),null);pdm=(computedStyle["box-sizing"]||computedStyle[$.cssPrefix+"-box-sizing"]);pdm=(pdm=="border-box"||pdm=="padding-box")&&!$.browser.msie?0:1}option.wd=option.width||(parseInt(computedStyle.width)+pdm*parseInt(computedStyle.paddingLeft)+pdm*parseInt(computedStyle.paddingRight));option.hg=option.height||(parseInt(computedStyle.height)+pdm*parseInt(computedStyle.paddingTop)+pdm*parseInt(computedStyle.paddingBottom));var dim={wd:option.wd,hg:option.hg};return dim},injectKeyWithDim:function(key,dim){var injection="-"+(dim.wd)+"-"+(dim.hg)+(dim.useBorderImage?"-border-image":"");key=key||"";key=key.split(".");key[0]=key[0].split(":");key[0][0]+=injection;key[0]=key[0].join(":");var bgKey="bg-"+key.join(".");return(dim.selectorPrefix?dim.selectorPrefix+" "+(bgKey.match(/^[\.:#]/)?"":"."):"")+bgKey},borderBackingStoreRatio:function(){if(!window.borderBackingStoreRatio){var canvas=document.createElement("canvas");var context=canvas.getContext("2d");window.borderBackingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1}return window.borderBackingStoreRatio},backingStoreRatio:function(){return 1;if(!window.backingStoreRatio){var canvas=document.createElement("canvas");var context=canvas.getContext("2d");window.backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1}return window.backingStoreRatio},checkDevicePixelRatio:function(){var currentDevicePixelRatio=this.lastDevicePixelRatio;this.lastDevicePixelRatio=$.theme.devicePixelRatio();if(!currentDevicePixelRatio){currentDevicePixelRatio=this.lastDevicePixelRatio}if(this.lastDevicePixelRatio!=currentDevicePixelRatio){window.borderBackingStoreRatio=null;window.backingStoreRatio=null;$.theme.deregisterAllBgCSS();$(document.body).fastRetheme();var useCanvas=$.theme.canvasAvailable();if(useCanvas){for(var key in themeSpecs){var bgSpec=themeSpecs[key];if(bgSpec.preprocess&&(bgSpec.subkeyOnly||bgSpec.noLazy)){if(useCanvas){var themeInfo=$.extend({},bgSpec);themeInfo.wd=themeInfo.width;themeInfo.hg=themeInfo.height;themeInfo.className=themeInfo.selector||key;this.render(null,bgSpec.gradients,bgSpec.icons,themeInfo)}}}}}},devicePixelRatio:function(){if($.browser.mozilla&&!window.devicePixelRatio){var m=screen.width/window.innerWidth;if(($.isTouchBase&&m==2)||("matchMedia" in window)&&window.matchMedia("(-moz-min-device-pixel-ratio:2)").matches){window.devicePixelRatio=2}}if($.browser.msie){var ratio1=1;var ratio2=1;if(!("devicePixelRatio" in window)&&window.screen.systemXDPI!==undefined&&window.screen.logicalXDPI!==undefined&&window.screen.systemXDPI>window.screen.logicalXDPI){ratio1=Math.round(1*window.screen.systemXDPI/window.screen.logicalXDPI)}if(!("devicePixelRatio" in window)&&window.screen.systemXDPI!==undefined&&window.screen.logicalXDPI!==undefined&&window.screen.deviceXDPI>window.screen.logicalXDPI){ratio2=Math.round(1*window.screen.deviceXDPI/window.screen.logicalXDPI)}return Math.max(Math.max(ratio1,ratio2,Math.round(window.initialBrowserScale||1)))}return Math.ceil(window.devicePixelRatio||1)},fileCacheMap:null,getFileCacheMap:function(){if(this.fileCacheMap===null){this.fileCacheMap=eval("("+(window.localStorage.getItem("localRenderCache")||"{}")+")")}return this.fileCacheMap},saveFileCacheMap:function(){if(!this.trySaveFileCacheMap){this.trySaveFileCacheMap=$.lastTriggerLimit(function(){var map=$.theme.getFileCacheMap();localStorage.setItem("localRenderCache",JSON.stringify(map))},300)}this.trySaveFileCacheMap()},cacheUseLocalFile:false,saveToLocalCacheSupported:null,supportLocalCache:function(){if(this.saveToLocalCacheSupported===null){if("NoIconCache" in window&&!(window.parent==self)){this.saveToLocalCacheSupported=false}else{var CanvasPrototype=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype;var supportCache=(window.requestFileSystem||window.webkitRequestFileSystem)&&(window.resolveLocalFileSystemURL||window.webkitResolveLocalFileSystemURL)&&window.localStorage&&(CanvasPrototype&&CanvasPrototype.toBlob);this.saveToLocalCacheSupported=supportCache;if(!this.saveToLocalCacheSupported){this.saveToLocalCacheSupported=(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB)&&window.localStorage&&(CanvasPrototype&&(CanvasPrototype.toBlob||CanvasPrototype.toSyncBlob));if(this.saveToLocalCacheSupported){this.prepareAssetIndexDB()}}else{this.cacheUseLocalFile=true}}}return this.saveToLocalCacheSupported},assetDB:null,assetDBQueue:{},assetCheckQueue:[],assetCheckPriorityQueue:[],setupAssetDB:function(){if($.theme.assetDB){try{var store=$.theme.assetDB.transaction(["entries"],"readonly").objectStore("entries")}catch(e){$.theme.isUpgradeEnded=true}if($.theme.isUpgradeEnded){try{$.theme.assetDB.createObjectStore("entries")}catch(e){}}try{var store=$.theme.assetDB.transaction(["entries"],"readonly").objectStore("entries")}catch(e){return}var store=$.theme.assetDB.transaction(["entries"],"readonly").objectStore("entries");$.theme.assetDBStore=store;$.theme.triggerStoreAssetBlob();$.theme.triggerCheckAssetQueue()}},cachedLastLocalFile:{},triggerCheckAssetQueue:function(){if(!$.theme.assetDB||!$.theme.assetDBStore){return}if(!$.theme.firstLoadAllAsset){$.theme.firstLoadAllAsset=true;$.theme.firstLoadInProgress=true;var store=$.theme.assetDB.transaction(["entries"],"readonly").objectStore("entries");var req=store.openCursor();req.onsuccess=function(event){var result=event.target.result;if(result){$.theme.cachedLastLocalFile[result.key]=result.value;result["continue"]()}else{$.theme.firstLoadInProgress=false;$.theme.triggerCheckAssetQueue()}};req.onerror=function(){$.theme.firstLoadInProgress=false}}if($.theme.firstLoadInProgress){return}if(!this.triggerCheckQueueFunc){this.triggerCheckQueueFunc=$.lastTriggerLimit(function(){var store=$.theme.assetDB.transaction(["entries"],"readonly").objectStore("entries");var limit=50;for(var bgKey in $.theme.assetCheckPriorityQueue){$.theme.assetCheckPriorityQueue[bgKey](store);limit--;delete $.theme.assetCheckPriorityQueue[bgKey]}for(var bgKey in $.theme.assetCheckQueue){if(limit==0){continue}$.theme.assetCheckQueue[bgKey](store);limit--;delete $.theme.assetCheckQueue[bgKey]}for(var key in $.theme.assetCheckPriorityQueue){setTimeout(function(){$.theme.triggerCheckAssetQueue()},1);return}for(var key in $.theme.assetCheckQueue){setTimeout(function(){$.theme.triggerCheckAssetQueue()},1);return}})}this.triggerCheckQueueFunc()},triggerStoreAssetBlob:function(){if(!$.theme.assetDB||!$.theme.assetDBStore){return}if(!this.triggerStoreAssetFunc){this.triggerStoreAssetFunc=$.lastTriggerLimit(function(){var store=$.theme.assetDB.transaction(["entries"],"readwrite").objectStore("entries");var limit=100;for(var bgKey in $.theme.assetDBQueue){if(limit==0){continue}limit--;var blob=$.theme.assetDBQueue[bgKey];try{var pixelRatio=$.theme.devicePixelRatio();var cacheKey=bgKey+"__"+pixelRatio;var req=store.put(blob,cacheKey);$.theme.cachedLastLocalFile[cacheKey]=blob;req.onerror=function(e){};req.onsuccess=(function(cacheKey){return function(event){var map=$.theme.getFileCacheMap();map[cacheKey]={key:cacheKey,version:($.theme.fileCacheVersion||1)};$.theme.saveFileCacheMap()}})(cacheKey)}catch(e){}delete $.theme.assetDBQueue[bgKey]}for(var key in $.theme.assetDBQueue){setTimeout(function(){$.theme.triggerStoreAssetBlob()},1);break}},200)}this.triggerStoreAssetFunc()},storeAssetBlob:function(bgKey,blob){$.theme.assetDBQueue[bgKey]=blob;if(!$.theme.assetDB||!$.theme.assetDBStore){return}$.theme.triggerStoreAssetBlob()},prepareAssetIndexDB:function(){if($.theme.indexDBPrepared){return}var indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.OIDBTransaction||window.msIDBTransaction,dbVersion=1;try{indexedDB.deleteDatabase("cacheRenderFiles")}catch(e){}var request=indexedDB.open("cacheTFiles",dbVersion);$.theme.indexDBPrepared=true;request.onerror=function(event){};request.onsuccess=function(event){var db=request.result;db.onerror=function(event){};if(db.setVersion){if(db.version!=dbVersion){var setVersion=db.setVersion(dbVersion);setVersion.onsuccess=function(){}}}$.theme.assetDB=db;setTimeout(function(){$.theme.setupAssetDB()},10);try{if(!$.theme.assetDB.objectStoreNames.contains("entries")){var groupIdObjectStore=$.theme.assetDB.createObjectStore("entries")}}catch(e){}};request.onupgradeneeded=function(event){$.theme.assetDB=event.target.result;$.theme.isUpgradeEnded=true;if(!$.theme.assetDB.objectStoreNames.contains("entries")){var groupIdObjectStore=$.theme.assetDB.createObjectStore("entries")}$.theme.setupAssetDB()}},saveToLocalStorage:function(bgKey,ctx){var pixelRatio=$.theme.devicePixelRatio();var cacheKey=bgKey+"__"+pixelRatio;try{if(this.cacheUseLocalFile){window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;window.requestFileSystem(window.TEMPORARY,1000*1024*1024,function(fs){fs.root.getFile(cacheKey+".png",{create:true},function(fileEntry){fileEntry.createWriter(function(fileWriter){fileWriter.onwriteend=function(e){var map=$.theme.getFileCacheMap();map[cacheKey]={url:fileEntry.toURL(),version:($.theme.fileCacheVersion||1)};$.theme.saveFileCacheMap()};fileWriter.onerror=function(e){};ctx.canvas.toBlob(function(blob){fileWriter.write(blob)},"image/png")},function(e){})},function(e){})},function(e){})}else{var oThis=this;if(ctx.canvas.toBlob){ctx.canvas.toBlob(function(blob){oThis.storeAssetBlob(bgKey,blob)},"image/png")}else{if(ctx.canvas.toSyncBlob){oThis.storeAssetBlob(bgKey,ctx.canvas.toSyncBlob("image/png"))}}}}catch(e){}},render:function(element,gradients,icons,themeInfo){var ctx=null;var useCanvasBg=false;var useFFCanvasBg=false;if(!themeInfo.hg||!themeInfo.wd){return}var canvasWd=themeInfo.wd;var canvasHg=themeInfo.hg;var borderImageSupported=themeInfo.borderImageSupported;var borderBackingRatio=1;if(borderImageSupported){if($.browser.safari&&parseFloat(((navigator.userAgent.match(/Version\/[0-9\.]+/)||[""])[0].split("/")[1]||"").replace(/^([0-9]+)\.([0-9]+)\./g,"$1$2."))<=60.2){}else{borderBackingRatio=$.theme.borderBackingStoreRatio();canvasWd*=borderBackingRatio;canvasHg*=borderBackingRatio}}var justRenderToContext=themeInfo.context;if($.browser.chrome&&themeInfo.scale){var ver=parseInt(window.navigator.appVersion.match(/Chrome\/(\d+)\./)[1],10);if(($.android&&ver>=29&&ver<32)){themeInfo.scale=themeInfo.scale?themeInfo.scale*2:2}}themeInfo.pixelRatio=(themeInfo.scale?themeInfo.scale:1)*$.theme.devicePixelRatio()/$.theme.backingStoreRatio();if(themeInfo.maxRatio&&themeInfo.pixelRatio){themeInfo.pixelRatio=Math.min(themeInfo.maxRatio,themeInfo.pixelRatio)}canvasWd*=themeInfo.pixelRatio;canvasHg*=themeInfo.pixelRatio;var key=themeInfo.className?themeInfo.className:this.injectKeyWithDim(themeInfo.bgName,themeInfo);var bgKey=key.replace(/[:\. ]/g,"_");if(themeInfo.className){bgKey="bg-"+bgKey+"-"}if($.isTouchBase||$.android){if(themeInfo.noTouchHover&&(key.indexOf(":hover")>=0||key.indexOf(":active")>=0)){return}}key=key.replace(/::[^:\.]+$/,"");if(this.hasIgnoreCacheKey(bgKey)){this.removeIgnoreCacheKey(bgKey)}var aliases=themeInfo.alias||[];if(typeof aliases=="string"){aliases=[aliases]}for(var i=0,len=aliases.length;i<len;i++){aliases[i]=themeInfo.className?aliases[i]:this.injectKeyWithDim(aliases[i],themeInfo);aliases[i]=(aliases[i].match(/^[\.:#]/)?aliases[i]:"."+aliases[i])}if(aliases.length>0){aliases.unshift("")}aliases=aliases.join(", ");var cssWebkitContext=null;if("getCSSCanvasContext" in document){if(!justRenderToContext){var canvasContext=document.getCSSCanvasContext("2d",bgKey,canvasWd,canvasHg);if(canvasContext){canvasContext.clearRect(0,0,canvasWd,canvasHg);useCanvasBg=true;if($.isTouchBase){ctx=canvasContext}else{cssWebkitContext=canvasContext}}}}if(justRenderToContext){ctx=justRenderToContext;ctx.canvas.width=canvasWd;ctx.canvas.height=canvasHg}if(!ctx){var canvas=document.createElement("canvas");canvas.width=canvasWd;canvas.height=canvasHg;ctx=canvas.getContext("2d")}var supportCache=$.theme.supportLocalCache();var cacheCtx=null;var cacheInfo={hasCache:false,cacheURL:null};var oThis=this;var withoutCacheCall=(function(cacheInfo){return function(){var hasCache=cacheInfo.hasCache;var cacheURL=cacheInfo.cacheURL;var wd=ctx.canvas.width;var hg=ctx.canvas.height;if(hasCache&&cacheURL){}else{if($.theme.checkIconSize){if(!themeInfo.mosaic&&!themeInfo.tones&&gradients.length==0&&icons.length>0){if(!themeInfo.width||!themeInfo.height){console.log("Missing ... wd hg "+bgKey)}}}var svgImageData=null;var svgIESprite=null;var supportIconSVG=oThis.supportIconSVGBlob()&&!themeInfo.noBlob&&themeInfo.width&&themeInfo.height&&!themeInfo.mosaic&&!themeInfo.tones&&gradients.length==0&&icons.length>0;if($.isMobileIE){if(!("holdBaseThemeCSS" in window&&window.holdBaseThemeCSS&&themeInfo.base)){supportIconSVG=false}if(wd>120||hg>120){supportIconSVG=false}}if(supportIconSVG&&!justRenderToContext){var svgString=null;var iconlen=icons.length;var noIconSharpnessRequired=true;var allSVGStrings=[];for(var i=0;i<iconlen;i++){var iconInfo=icons[i];var svgString=$.theme.renderIconPathSVG(iconInfo,ctx,themeInfo,wd,hg,true);allSVGStrings.push(svgString);if(iconInfo.strokeOnly&&iconInfo.strokeAdjustmentShift&&$.theme.devicePixelRatio()<=1){noIconSharpnessRequired=false;break}}allSVGStrings=allSVGStrings.join("");if(noIconSharpnessRequired){if($.browser.msie&&"holdBaseThemeCSS" in window&&window.holdBaseThemeCSS&&themeInfo.base){if(!$.isMobileIE||allSVGStrings.length<1000){$.theme.masterBlob.push('<g transform="translate('+$.theme.masterBlobStartX+","+$.theme.masterBlobStartY+')">'+allSVGStrings+'</g><svg preserveAspectRatio="none" viewBox="0 0 '+wd+" "+hg+'" width="'+wd+'" height="'+hg+'"><view id="blob-'+$.theme.masterBlobId+'" viewBox="'+$.theme.masterBlobStartX+" "+$.theme.masterBlobStartY+" "+wd+" "+hg+'"/></svg>');$.theme.masterBlobWd=Math.max($.theme.masterBlobWd,$.theme.masterBlobStartX+wd);$.theme.masterBlobHg=Math.max($.theme.masterBlobHg,$.theme.masterBlobStartY+hg);$.theme.masterBlobStartX+=wd;if($.theme.masterBlobStartX>=1280){var startX=$.theme.masterBlobStartX;$.theme.masterBlobStartX=0;$.theme.masterBlobStartY=$.theme.masterBlobHg}svgImageData="master-blob#blob-"+$.theme.masterBlobId;$.theme.masterBlobId++;svgIESprite=1}}else{allSVGStrings=$.theme.wrapSVG(allSVGStrings,wd,hg);var blob=new Blob([allSVGStrings],{type:"image/svg+xml;charset=utf-8"});svgImageData=window.URL.createObjectURL(blob)}}}if($.browser.mozilla&&!useCanvasBg&&!svgImageData&&!justRenderToContext){if("mozSetImageElement" in document){useFFCanvasBg=true;document.mozSetImageElement(bgKey,canvas)}}if(!svgImageData){var renderCtx=null;if(!cacheCtx){renderCtx=function(){if((useCanvasBg||useFFCanvasBg)&&$.theme.allowSVG&&themeInfo.useSVG&&!svgImageData){if(themeInfo.initSVGCanvas){themeInfo.initSVGCanvas(ctx)}if(themeInfo.initSVGBase){ctx.fillStyle="#fff";ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height)}}else{var len=gradients.length;var len2=icons.length;if(themeInfo.mosaic){$.theme.renderMosaic(themeInfo.mosaic,ctx,themeInfo)}if(themeInfo.tones){$.theme.renderTones(themeInfo.tones,ctx,themeInfo)}for(var i=0;i<len;i++){var gradient=gradients[i];$.theme.renderGradientToContext(gradient,ctx,themeInfo)}$.theme.renderPattern(ctx,themeInfo);for(var i=0;i<len2;i++){var iconInfo=icons[i];$.theme.renderIconPath(iconInfo,ctx,themeInfo)}$.theme.renderShadowToContext(ctx,themeInfo);$.theme.renderRadiusClip(ctx,themeInfo)}if(supportCache&&themeInfo.cache&&(themeInfo.cacheUseLocalFile||themeInfo.priorityCache)&&!hasCache&&!justRenderToContext){$.theme.saveToLocalStorage(bgKey,ctx)}}}if((useCanvasBg||useFFCanvasBg)&&cssWebkitContext&&!svgImageData){var renderToWebkitCanvas=function(){renderCtx();cssWebkitContext.drawImage(ctx.canvas,0,0,ctx.canvas.width,ctx.canvas.height);delete ctx.canvas;delete ctx};if(window.holdThemeCSS&&!themeInfo.noDefer){$.theme.addRenderQueue(renderToWebkitCanvas,bgKey)}else{renderToWebkitCanvas()}}else{if((useCanvasBg||useFFCanvasBg)&&window.holdThemeCSS&&!themeInfo.noDefer){$.theme.addRenderQueue(renderCtx,bgKey)}else{renderCtx()}}}if((useCanvasBg||useFFCanvasBg)&&$.theme.allowSVG&&themeInfo.useSVG&&!svgImageData){var svgString=null;var imgIcons=[];var targetCtx=(cssWebkitContext?cssWebkitContext:ctx);var iconlen=icons.length;var maxResourceLength=iconlen;var resourceLoadCallback=function(){targetCtx.clearRect(0,0,wd,hg);var len=gradients.length;var len2=imgIcons.length;if(themeInfo.mosaic){$.theme.renderMosaic(themeInfo.mosaic,targetCtx,themeInfo)}if(themeInfo.tones){$.theme.renderTones(themeInfo.tones,targetCtx,themeInfo)}for(var i=0;i<len;i++){var gradient=gradients[i];$.theme.renderGradientToContext(gradient,targetCtx,themeInfo)}$.theme.renderPattern(targetCtx,themeInfo);for(var i=0;i<len2;i++){var img=imgIcons[i];targetCtx.drawImage(img,0,0,img.width,img.height,0,0,img.width,img.height)}$.theme.renderShadowToContext(targetCtx,themeInfo);$.theme.renderRadiusClip(targetCtx,themeInfo);if(supportCache&&themeInfo.cache&&(themeInfo.cacheUseLocalFile||themeInfo.priorityCache)&&!hasCache&&!justRenderToContext){$.theme.saveToLocalStorage(bgKey,targetCtx)}};var hashCounter=0;for(var i=0;i<iconlen;i++){imgIcons[i]=null;var iconInfo=icons[i];var svgString=$.theme.renderIconPathSVG(iconInfo,ctx,themeInfo,wd,hg);$.theme.loadSVG(svgString,(function(counter){return function(img){imgIcons[counter]=img;hashCounter++;if(hashCounter==maxResourceLength){resourceLoadCallback()}}})(i))}}}if(!justRenderToContext){var cssAttrName=themeInfo.attr?themeInfo.attr:"background-image";var borderImagePad="";var borderWidth="";var borderImageWidth="";var boxSizing="";if(borderImageSupported){borderWidth=themeInfo.borderImage[0].join("px ")+"px";var ratio=themeInfo.pixelRatio*borderBackingRatio;borderImagePad=borderWidth.replace(/px/g," ").replace(/[0-9]+/g,function(x){return(parseInt(x)*ratio)})+" fill / "+borderWidth.replace(/[0-9]+/g,function(x){return Math.max(1,parseInt(x))})+" stretch stretch";cssAttrName="border-image";boxSizing=$.browser.safari||$.browser.chrome?"border-box":"content-box"}var bgSizeAttr="";var bgImage="";if(cssAttrName=="background-image"){if(themeInfo.pixelRatio!=1||svgIESprite){var bgSize=themeInfo.wd+"px "+themeInfo.hg+"px;";bgSizeAttr="background-size : "+bgSize;bgSizeAttr=$.cssPrefix+"-background-size : "+bgSize+bgSizeAttr}if(cacheURL){bgImage=cssAttrName+" : url("+cacheURL+")  !important;"}else{if(svgImageData){bgImage=cssAttrName+" : url("+svgImageData+")  !important;"}else{if(useCanvasBg){bgImage=cssAttrName+" : -webkit-canvas("+bgKey+") !important;"}else{if(useFFCanvasBg){bgImage=cssAttrName+" : -moz-element(#"+bgKey+") !important;"}else{var data=(canvas.toBlobURL&&!("disableToBlobURL" in themeInfo&&themeInfo.disableToBlobURL)?canvas.toBlobURL("image/png"):(canvas.fakeBlobURL?canvas.fakeBlobURL("image/png"):canvas.toDataURL("image/png")));bgImage=cssAttrName+" : url("+data+")  !important;"}}}}}else{if(cssAttrName=="border-image"){if(cacheURL){bgImage=cssAttrName+" : url("+cacheURL+")  !important;"}else{if(svgImageData){bgImage=cssAttrName+" : url("+svgImageData+")  !important;"}else{if(useCanvasBg){bgImage=$.cssPrefix+"-"+cssAttrName+" : -webkit-canvas("+bgKey+") "+borderImagePad+" !important; "+$.cssPrefix+"-box-sizing : "+boxSizing+";";bgImage+=cssAttrName+" : -webkit-canvas("+bgKey+") "+borderImagePad+" !important; box-sizing : "+boxSizing+"; border-width : 0px 0px 1px 0px !important;"}else{var data=(canvas.toBlobURL&&!("disableToBlobURL" in themeInfo&&themeInfo.disableToBlobURL)?canvas.toBlobURL("image/png"):(canvas.fakeBlobURL?canvas.fakeBlobURL("image/png"):canvas.toDataURL("image/png")));bgImage=$.cssPrefix+"-"+cssAttrName+" : url("+data+") "+borderImagePad+" !important; "+$.cssPrefix+"-box-sizing : "+boxSizing+";";bgImage+=cssAttrName+" : url("+data+") "+borderImagePad+" !important; box-sizing : "+boxSizing+"; border-width : 0px 0px 1px 0px !important;"}}}}}var cssContent=(key.match(/^[\.:#]/)?key:"."+key)+aliases+" { "+bgImage+bgSizeAttr+" "+themeInfo.attrStr+" } ";if("holdBaseThemeCSS" in window&&window.holdBaseThemeCSS&&themeInfo.base){$.theme.holdCSSBase.push(cssContent)}else{if("holdThemeCSS" in window&&window.holdThemeCSS){$.theme.holdCSSKeys=$.theme.holdCSSKeys||{};$.theme.holdCSSKeys[bgKey]=cssContent}else{if($.theme.holdCachedThemeCSS){$.theme.holdCachedThemeCSS[bgKey]=cssContent}else{oThis.registerCSS(bgKey,cssContent)}}}}}})(cacheInfo);if(supportCache&&themeInfo.cache&&($.theme.cacheUseLocalFile||themeInfo.priorityCache)&&!justRenderToContext){var map=$.theme.getFileCacheMap();var pixelRatio=$.theme.devicePixelRatio();var cacheKey=bgKey+"__"+pixelRatio;var hasCacheData=map[cacheKey]&&(($.theme.cacheUseLocalFile&&map[cacheKey].url)||(!$.theme.cacheUseLocalFile&&map[cacheKey].key));if(map[cacheKey]&&hasCacheData&&map[cacheKey].version==($.theme.fileCacheVersion||1)&&!$.theme.ruleOutBlobCache){if($.theme.cacheUseLocalFile){window.resolveLocalFileSystemURL=window.resolveLocalFileSystemURL||window.webkitResolveLocalFileSystemURL;var url=map[cacheKey].url;window.resolveLocalFileSystemURL(url,(function(cacheInfo){return function(fileEntry){cacheInfo.hasCache=true;cacheInfo.cacheURL=map[cacheKey].url;withoutCacheCall()}})(cacheInfo),function(){withoutCacheCall()})}else{var checkAssetNow=(function(cacheInfo,cacheKey){return function(existingStore){var processBlob=(function(cacheInfo){return function(imgFile){var URL=window.URL||window.webkitURL;try{var imgURL=URL.createObjectURL(imgFile);cacheInfo.hasCache=true;cacheInfo.cacheURL=imgURL;withoutCacheCall()}catch(e){console.log(e);cacheInfo.hasCache=false;cacheInfo.cacheURL=null;withoutCacheCall()}}})(cacheInfo);if($.theme.cachedLastLocalFile[cacheKey]){processBlob($.theme.cachedLastLocalFile[cacheKey])}else{var store=existingStore?existingStore:$.theme.assetDB.transaction(["entries"],"readonly").objectStore("entries");var request=store.get(cacheKey);request.onsuccess=function(event){var imgFile=event.target.result;processBlob(imgFile)};request.onerror=function(){cacheInfo.hasCache=false;cacheInfo.cacheURL=null;withoutCacheCall()}}}})(cacheInfo,map[cacheKey].key);if(themeInfo.priorityCache){$.theme.assetCheckPriorityQueue[cacheKey]=checkAssetNow}else{$.theme.assetCheckQueue[cacheKey]=checkAssetNow}$.theme.triggerCheckAssetQueue()}}else{if(!$.theme.cacheUseLocalFile&&$.browser.safari&&!$.browser.mozilla&&!$.browser.msie){$.theme.ruleOutBlobCache=true}cacheInfo.hasCache=false;cacheInfo.cacheURL=null;withoutCacheCall()}}else{cacheInfo.hasCache=false;cacheInfo.cacheURL=null;withoutCacheCall()}},baseDefaulted:false,defaultBase:function(v){$.theme.baseDefaulted=v===undefined?true:v},holdCSS:function(){if(!$.browser.msie){window.holdThemeCSS=1}window.holdBaseThemeCSS=1},holdCSSBase:[],cssBaseNum:0,masterBlobId:0,masterBlobWd:0,masterBlobHg:0,masterBlobStartY:0,masterBlobStartX:0,masterBlob:[],releaseHolding:function(){delete window.holdThemeCSS;delete window.holdBaseThemeCSS;window.holdThemeTrial=window.holdThemeTrial||1;window.holdThemeTrial++;var hasAnyKey=false;if($.theme.holdCSSKeys){for(var bgKey in $.theme.holdCSSKeys){if(!hasAnyKey){$.theme.disableGlobalCSS();hasAnyKey=true}$.theme.registerCSS(bgKey,$.theme.holdCSSKeys[bgKey]);delete $.theme.holdCSSKeys[bgKey]}}if($.theme.holdCSSBase&&$.theme.holdCSSBase.length>0){var cssContent=$.theme.holdCSSBase.join(" ");if($.browser.msie&&$.theme.masterBlob&&$.theme.masterBlob.length>=0&&"Blob" in window){var allSVGStrings=$.theme.wrapSVG($.theme.masterBlob.join(""),$.theme.masterBlobWd,$.theme.masterBlobHg);var blob=new Blob([allSVGStrings],{type:"image/svg+xml;charset=utf-8"});var svgImageData=window.URL.createObjectURL(blob);cssContent=cssContent.replace(/master-blob\#blob/g,svgImageData+"#blob").replace(/<defs><\/defs>/g,"");$.theme.masterBlob=[]}$.theme.registerCSS("initBaseThemeCSS"+$.theme.cssBaseNum++,cssContent,null,1);$.theme.holdCSSBase=[]}if(hasAnyKey||(window.holdThemeTrial<5)){setTimeout(function(){$.theme.releaseHolding()},100)}if(hasAnyKey){$.theme.enableGlobalCSS()}},renderQueues:[],addRenderQueue:function(f,bgKey){if(f){$.theme.renderQueues.push(f)}if(!$.theme.onQueueExecute&&$.theme.renderQueues.length>0){$.theme.onQueueExecute=window.requestInterval(function(){var len=$.isTouchBase?1:30;for(var i=0;i<len;i++){var fr=$.theme.renderQueues.shift();if(fr){fr()}}if($.theme.renderQueues.length==0){window.clearRequestInterval($.theme.onQueueExecute);$.theme.onQueueExecute=null;$.theme.addRenderQueue()}},1)}},borderImgSupported:null,borderImgShrink:null,iconSVGBlobSupported:null,supportIconSVGBlob:function(){if(this.iconSVGBlobSupported===null){var supported=(!$.browser.safari||($.browser.safari&&$.browser.chrome))||$.browser.msie;var URLObject=window.URL;var BlobObject=window.Blob;supported=supported&&URLObject&&BlobObject&&true;var isAtLeastIE11=!!(navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/));supported=supported&&(!$.browser.msie||isAtLeastIE11);if($.android&&!$.browser.chrome){supported=false}this.iconSVGBlobSupported=supported}return this.iconSVGBlobSupported},borderImageSupported:function(){return false;if(this.borderImgSupported===null){if($(document.body)[0]){var element=$(document.createElement("div"));element.appendTo(document.body);element.css($.cssPrefix+"-border-image-slice","50%");element.css("border-image-slice","50%");element.css($.cssPrefix+"-box-sizing","border-box");element.css("box-sizing","border-box");this.borderImgSupported=(element.css("box-sizing")+""=="border-box"||element.css($.cssPrefix+"-box-sizing")+""=="border-box")&&((element.css("border-image-slice")+"").indexOf("50%")>=0||(element.css($.cssPrefix+"-border-image-slice")+"").indexOf("50%")>=0);element.remove()}}return this.borderImgSupported},borderImageShrinkWidth:function(){if(this.borderImgShrink===null){if($(document.body)[0]){var element=$(document.createElement("div"));element.html("<div style='height:100%'></div>");element.appendTo(document.body);element.css({top:0,left:0,width:100,height:100,position:"absolute",WebkitBoxSizing:"border-box"});element.css("border-image","url(data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=) 10 fill / 10px stretch stretch");element.css($.cssPrefix+"-border-image","url(data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=) 10 fill / 10px stretch stretch");element.css("border-width","0px 0px 1px 0px !important");this.borderImgShrink=element.children().width()<90;element.remove()}}return this.borderImgShrink},hairlineCSSpx:function(){var pixelRatio=$.theme.devicePixelRatio();if($.browser.safari&&!($.android||$.browser.msie)){if(pixelRatio==3){return 0.35}return(Math.round(100/Math.min(2,pixelRatio))/100)}else{return 1}},canvasAvailable:function(){var useCanvas=true;if($.browser.msie){if($.browser.noCanvas){useCanvas=false}else{var elem=document.createElement("canvas");if(!(elem.getContext&&elem.getContext("2d"))){useCanvas=false;$.browser.noCanvas=true}}}return useCanvas},wrapSVG:function(contentString,wd,hg){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+wd+'" height="'+hg+'" preserveAspectRatio="none">'+(contentString||"")+"</svg>"}})})();(function(){var d=$.theme.wrapSVG("",1,1);var j=window.URL||window.webkitURL;if(j&&"Blob" in window){var b=null;try{b=new Blob([d],{type:"image/svg+xml;charset=utf-8"})}catch(i){}if(b){var c=j.createObjectURL(b);var a=new Image();a.onload=function(){$.theme.allowBasicSVG=1;if(a.width==1&&a.height==1){$.theme.allowSVG=1;$.theme.loadSVG=function(l,o){o=o||function(){};var n=new Blob([l],{type:"image/svg+xml;charset=utf-8"});var m=new Image();var e=j.createObjectURL(n);m.onload=function(){o(m)};m.src=e}}};a.src=c}}if($.browser.safari){var h="data:image/svg+xml,"+d;var g=new Image();g.onload=function(){$.theme.allowBasicSVG=1;if(g.width==1&&g.height==1){$.theme.allowSVG=1;$.theme.loadSVG=function(l,n){n=n||function(){};var m="data:image/svg+xml,"+l;var e=new Image();e.onload=function(){n(e)};e.src=m}}};g.src=h}})();$.gradient=function(d,e){var g=$.theme.canvasAvailable();if(g){$.theme.assign($(d),null,e)}else{$.theme.renderIE(d)}var c=$(d).children();var a=c.length;if(c&&c.length>0){for(var b=0;b<a;b++){$.gradient(c.eq(b),e)}}};$.fn.theme=function(b,g){if(typeof b!="string"&&b!==undefined){g=b;b=null}var h=$.theme.canvasAvailable();var e=[];for(var d=0,a=this.length;d<a;d++){if(b){this.eq(d).attr("bg",b)}e.push(this.eq(d))}while(element=e.shift()){if(element.attr("bg")){if(h){$.theme.assign(element,null,g)}else{$.theme.renderIE(element[0])}}var c=element.children();var a=c.length;if(c&&c.length>0){for(var d=0;d<a;d++){e.push(c.eq(d))}}}return this};$.fn.fastRetheme=function(){if($.browser.msie&&!("jQuery" in window)){this.theme();return this}this.each(function(b,c){var d=$(c);$.theme.assign(d);var e=d.find("[bg]");for(var b=0,a=e.length;b<a;b++){$.theme.assign(e.eq(b))}});return this};$.themeReady=function(){$(document).ready(function(){$(document.body).fastRetheme()});$.theme.checkDevicePixelRatio();$.resize(function(){$.theme.checkDevicePixelRatio()});$(window).bind("focus",function(){$.theme.checkDevicePixelRatio()});if("matchMedia" in window){var a=window.matchMedia("(-webkit-device-pixel-ratio:1)");if("addListener" in a){a.addListener(function(){$.theme.checkDevicePixelRatio()})}}};(function(){var a={};$.icons=function(c){var d=function(){return a[c]||null};d.exists=function(){return $.icons.exists(c)};return d};$.icons.register=function(e){for(var c in e){var d=e[c];if(d&&!(typeof d=="string")&&"isIconSource" in d&&"path" in d){d=d.path}a[c]={isIconSource:1,path:d}}};$.icons.exists=function(c){return c in a};var b={};$.mosaics=function(c){return function(){return b[c]||null}};$.mosaics.register=function(d){for(var c in d){b[c]=d[c]}}})();$.extend($.theme,{normalizeColor:function(b){var a;if(a=b.match(/^#(.)(.)(.)\.(.+)$/)){return"rgba("+[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16),parseFloat(a[4])].join(",")+")"}else{if(a=b.match(/^#(..)(..)(..)\.(.+)$/)){return"rgba("+[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),parseFloat(a[4])].join(",")+")"}else{if(a=b.match(/^#(.)(.)(.)(.)$/)){return"rgba("+[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16),Math.round(100*parseInt(a[4]+a[4],16)/256)/100].join(",")+")"}else{if(a=b.match(/^#(..)(..)(..)(..)$/)){return"rgba("+[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),Math.round(100*parseInt(a[4],16)/256)/100].join(",")+")"}}}}return b},normalizeIEColor:function(a){var b=a;var c=1;a=$.theme.normalizeColor(a);if(a.indexOf("rgba")=="0"){a=a.replace(/[^0-9\.,]+/g,"");c=parseFloat(a.split(",")[3]);b="#"+a.replace(/,[0-9\.]+$/,"").replace(/[0-9\.]+/g,function(d){var e=Math.min(255,parseInt(d)).toString(16);return e.length==1?"0"+e:e}).replace(/,/g,"")}return{color:b,opacity:c}},normalizeShadow:function(b){if(b){var a=b.split(" ");if(a.length==3){a.unshift("rgba(0,0,0,0.5)")}return a}return null},normalizeBorders:function(g){if(!g){return null}var e=[];for(var d=0,b=g.length;d<b;d++){var a=this.normalizeGradients(g[d]);for(var c=0,h=a.length;c<h;c++){a[c].isIcon=true}if(a.length>0){e.push(a[0])}}return e},normalizeRadius:function(a){if(a){var b=[];a.toString().replace(/[0-9\.]+/g,function(c){b.push(parseFloat(c))});if(b.length==1){b=b[0];return[b,b,b,b]}else{if(b.length==4){return b}}}return[0,0,0,0]},positionizeGradients:function(t,q){var o=0;var y=t.length;var l=0;var s=0;var c=$.extend({points:"v",clips:"f",colorStops:[],colorSegments:[]},q||{});var n=0;var w=[];while(l<y){var h=l+1;var r=1;var u=null;while(h<y&&!u){u=t[h].match(/^@([^#r]+)[#r]/);if(!u){h++}}if(u){var z=u[1];if(z.indexOf("%")){r=1*parseInt(z)/100}r=1*Math.round(1000*parseFloat(u[1]))/1000}var d=0;for(var x=l;x<Math.min(y,h+1);x++){if(t[x].match(/^@[r#]+/)){}else{if(t[x].match(/^@([^0-9a-fA-F\(\#]+)$/)){}else{d++}}}var a=(r-o)/Math.max(1,d-1);var p=o;for(var x=l;x<h;x++){var u;var b=this.normalizeColor(t[x].replace(/^@([^#r]+)/,"").replace(/^@/,""));var A=!t[x].match(/^@[^0-9\.]+/);if(u=t[x].match(/^@([^\(\#]+)$/)){c.points=u[1];continue}else{p=s++==0?0:(x==y-1)?1:p;c.colorStops.push({stop:p,color:b})}if(A){p+=a;p=Math.round(100*p)/100}if($.browser.msie){w[n++]=c.colorStops[s-1];if(x==y-1&&n==1){w[1]=w[0];n=2}if(n==2){c.colorSegments.push(w);w=[w[1]]}if(A){n=1}else{n=0}}}o=r;l=h}var j=false;if(c.points=="rh"||c.points=="rv"){c.points=c.points.substring(1);j=true}if(j){var e=[];for(var x=c.colorStops.length-1;x>=0;x--){var p=c.colorStops[x];p.stop=1-p.stop;e.push(p)}var g=[];for(var x=c.colorSegments.length-1;x>=0;x--){g.push([c.colorSegments[x][1],c.colorSegments[x][0]])}c.colorStops=e;c.colorSegments=g}return c},trimGradient:function(a){return a.replace(/[ ]+/g," ").replace(/([^ \|]+)[ ]*[\|]+[ ]*/g,"@$1 ").replace(/@@([0-9\.]+)([^ @]+[ ]*)/g,"@$2@$1")},normalizeGradients:function(d){var l=[];if(typeof d=="string"){d=[d]}var e=d.length;for(var b=0;b<e;b++){var g=d[b];if(typeof g=="string"){var c=[];if(c=g.match(/^@([tblr][^0-9\-]+)([\-0-9]+)(,[0-9]+)?(\(\))?(\*)?:(.*)/)){var j=c[1].charAt(0);var a={t:"v",l:"h",b:"rv",r:"rh"};a=a[j]||"v";l.push(this.positionizeGradients(this.trimGradient(c[6]).split(" "),{clips:j,points:a,offset:parseInt((c[3]||"0").replace(",","")),unit:parseInt(c[2]),roundInside:c[4]=="()",usePixelRatio:c[5]=="*"}))}else{if(c=g.match(/^@c\(([^\)]+)\)[ ]*(.*)$/)){var h=c[1].split(" ");l.push($.extend(this.positionizeGradients(this.trimGradient(c[2]).split(" ")),{points:"c",startPoints:h[0].split(","),ending:(h[1]||"").split(",")}))}else{l.push(this.positionizeGradients(this.trimGradient(g).split(" ")))}}}}return l},normalizeTip:function(j,m,d,e){var a=[j,m,d,e];var g=0;for(var h=0;h<4;h++){if(a[h]){g++;a[h][2]=a[h][2]!=undefined?a[h][2]:1;if(typeof a[h][2]=="string"){var n=a[h][2].substring(0,1);if(n=="s"){a[h][2]=0}else{if(n=="e"){a[h][2]=2}else{a[h][2]=1}}}}}if(g==0){return null}return a}});$.extend($.theme,{normalizeIcons:function(F){if(!F){return[]}var r=[];for(var q=0,j=F.length;q<j;q++){var C=F[q];if(!C){continue}var g=C[1];if(typeof g=="function"){g=g()}if(!g){continue}var t=g;if((typeof t!="string")&&("path" in g)&&("isIconSource" in g)){t=g.path}var p=null;var w={};if(C[2]){if(typeof C[2]=="string"){p=this.normalizeGradients(C[2]);for(var A=0,B=p.length;A<B;A++){p[A].isIcon=true}}else{var e=false;w={};for(var x in C[2]){w[x]=this.normalizeGradients(C[2][x]);for(var A=0,B=w[x].length;A<B;A++){w[x][A].isIcon=true}if(!e){p=w[x];e=true}w[x]=w[x][0]}if(!e){p=this.normalizeGradients("#000000");for(var A=0,B=p.length;A<B;A++){p[A].isIcon=true}}}}var y=t.match(/^:([0-9]+):([0-9]+):/);if(!y){continue}var c={type:"icon",path:t,normWidth:parseInt(y[1]),normHeight:parseInt(y[2]),points:g,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,gradients:p,colorReplacements:w,gradient:p?p[0]:null,XPos:"l",YPos:"t",BPos:"start"};var G=C[0].split(",");var B=G.length;for(var A=0;A<B;A++){var D=$.trim(G[A]);if(D.indexOf("@pos")==0){var h=(D.split(" ")[1]||"c.c");h=h.split(h.indexOf(":")>=0?":":".");c.XPos=h[0];c.YPos=h[1]}else{if(D.indexOf("@wd")==0){c.maxWidth=parseInt(D.replace(/[^0-9\.]*/g,""))}else{if(D.indexOf("@framewd")==0){c.frameWidth=parseInt(D.replace(/[^0-9\.]*/g,""))}else{if(D.indexOf("@hg")==0){c.maxHeight=parseInt(D.replace(/[^0-9\.]*/g,""))}else{if(D.indexOf("@framehg")==0){c.frameHeight=parseInt(D.replace(/[^0-9\.]*/g,""))}else{if(D.indexOf("@p")==0){var o=$.trim((D.replace(/[^0-9\. \-]*/g,""))).split(" ");o[1]=o[1]||o[0];o[2]=o[2]||o[0];o[3]=o[3]||o[1];c.paddingTop=parseInt(o[0]);c.paddingRight=parseInt(o[1]);c.paddingBottom=parseInt(o[2]);c.paddingLeft=parseInt(o[3])}else{if(D.indexOf("@highlight")==0){c.useHighlight=$.trim(D.replace("@highlight","")).split(" ")}else{if(D.indexOf("@shadow")==0){c.useShadow=$.trim(D.replace("@shadow","")).split(" ")}else{if(D.indexOf("@inner")==0){c.useInner=$.trim(D.replace("@inner","")).split(" ")}else{if(D.indexOf("@start")==0){c.BPos="start"}else{if(D.indexOf("@end")==0){c.BPos="end"}else{if(D.indexOf("@mid")==0){c.BPos="mid"}else{if(D.indexOf("@sharp")==0){c.sharp=1}else{if(D.indexOf("@fillshift")==0){c.fillShift=true;var z=D.replace(/^[^0-9\.\-]*/,"").replace(/[^0-9\.\-]*$/,"").replace(/[ ]+/," ").split(" ");var I=z[0].replace(/[^0-9\.\-]*/g,"");var H=(z[0]||z[1]).replace(/[^0-9\.\-]*/g,"");c.fillShiftX=parseInt(I)||0;c.fillShiftY=parseInt(H)||0}else{if(D.indexOf("@strokeshift")==0){c.strokeShift=true;var z=D.replace(/^[^0-9\.\-]*/,"").replace(/[^0-9\.\-]*$/,"").replace(/[ ]+/," ").split(" ");var I=z[0].replace(/[^0-9\.\-]*/g,"");var H=(z[0]||z[1]).replace(/[^0-9\.\-]*/g,"");c.strokeShiftX=parseInt(I)||0;c.strokeShiftY=parseInt(H)||0}else{if(D.indexOf("@shift")==0){c.strokeAdjustmentShift=1}else{if(D.indexOf("@invert")==0){c.inverted=true}else{if(D.indexOf("@stroke-only")==0){c.stroke=$.trim(D.replace("@stroke-only",""));c.strokeOnly=true}else{if(D.indexOf("@strokewd")==0){c.strokeWidth=$.trim(D.replace("@strokewd",""));var u=false;if(c.strokeWidth.indexOf("*")>=0){u=true;if(c.strokeWidth=="*"){c.strokeWidth="1"}}c.strokeWidth=parseInt(c.strokeWidth.replace(/[^0-9]+/g,""));c.strokeWidthMultiplier=(u?$.theme.devicePixelRatio():0)}else{if(D.indexOf("@stroke")==0){c.stroke=$.trim(D.replace("@stroke",""))}else{if(D.indexOf("@sandy")==0){c.sandy=this.normalizeSandy($.trim(D.replace("@sandy","")))}else{if(D.indexOf("@fabric")==0){c.fabric=this.normalizeFabric($.trim(D.replace("@fabric","")))}else{if(D.indexOf("@stripe")==0){c.stripe=this.normalizeStripe($.trim(D.replace("@stripe","")))}}}}}}}}}}}}}}}}}}}}}}}}var a=t.substring(y[0].length);var E=false;var l=false;if(a.substring(0,5)=="@DT@:"){a=a.substring(5);E=true}if(a.substring(0,5)=="@FT@:"){a=a.substring(5);l=true}var s;if(s=a.match(/^@#[0-9A-Fa-f]{3,8}\/?C?[0-9]?a?,[0-9]+a?,[0-9]+,[0-9]+,[0-9]+@:/)){var b;while(b=a.substring(1).match(/@#[0-9A-Fa-f]{3,8}()?\/?C?[0-9]?a?,[0-9]+,[0-9]+,[0-9]+,[0-9]+@:/)){var n=a.substring(1).indexOf(b[0])+1;var d=$.extend({},c);d.path=y[0]+a.substring(s[0].length,n);d.points={isIconSource:1,path:d.path};d=$.extend(d,this.normalizeMulticolorIconInfo(s[0]));if(d.path.match(/^:[0-9]+:[0-9]+:@S@:/)){d.strokeOnly=true}if(d.strokeOnly&&c.strokeAdjustmentShift){d.strokeAdjustmentShift=c.strokeAdjustmentShift}d.fillShift=c.fillShift;d.strokeShift=c.strokeShift;d.duotone=E;d.fixedTone=l;r.push(d);a=a.substring(n);s=b}if(a.length>0){var d=$.extend({},c);d.path=y[0]+a.substring(s[0].length);d.points={isIconSource:1,path:d.path};d=$.extend(d,this.normalizeMulticolorIconInfo(s[0]));if(d.path.match(/^:[0-9]+:[0-9]+:@S@:/)){d.strokeOnly=true}if(d.strokeOnly&&c.strokeAdjustmentShift){d.strokeAdjustmentShift=c.strokeAdjustmentShift}d.fillShift=c.fillShift;d.strokeShift=c.strokeShift;d.duotone=E;d.fixedTone=l;r.push(d)}}else{if(a.substring(0,4)=="@S@:"){c.strokeOnly=true}c.duotone=E;c.fixedTone=l;r.push(c)}}return r},duotoneGradient:function(l,a){if(l.colorIdentifier){if(l&&l.colorReplacements){if(l.colorIdentifier.match(/^C[0-9]+a$/)){var j=l.colorReplacements[l.colorIdentifier];if(!j){j=l.colorReplacements[l.colorIdentifier.replace(/a$/,"")];if(j){var e=null;if(typeof j=="string"){e=$.theme.normalizeIEColor(j)}else{if(j.colorStops&&j.colorStops[0]){e=$.theme.normalizeIEColor(j.colorStops[0].color)}}if(e){var b=Math.max(Math.min(Math.round(255,e.opacity*255),255),0);b=Math.min(64,Math.floor(b/2));b=(b<16?"0":"")+b.toString(16);var c=e.color;if(c.match(/^#[0-9A-Za-z]{3}$/)){c=c.replace(/([0-9A-Za-z])/g,"$1$1")}var g=this.normalizeGradients(c+b);for(var d=0,h=g.length;d<h;d++){g[d].isIcon=true}g=g[0];l.colorReplacements[l.colorIdentifier]=g;return g}}}return j||l.gradient}else{return l.colorReplacements[l.colorIdentifier]||l.gradient}}}return l.gradient},normalizeMulticolorIconInfo:function(e){e=e.replace(/^@/,"").replace(/@$/,"").split(",");var l=e[0];var m=e[e.length-4];var a=e[e.length-3];var d=e[e.length-2];var c=e[e.length-1];var b=null;if(l.indexOf("/")>0){var j=l.split("/");l=j[0];b=j[1]}gradients=this.normalizeGradients(l);for(var g=0,h=gradients.length;g<h;g++){gradients[g].isIcon=true}return{gradients:gradients,colorIdentifier:b,gradient:gradients?gradients[0]:null,embeddedWd:parseInt(m),embeddedHg:parseInt(a),offsetX:parseInt(d),offsetY:parseInt(c)}},normalizeIconPath:function(t){var m=t;var o=false;if(!(typeof t=="string")){if(t&&"isIconSource" in t){o=true;if("convertedPath" in t){return t.convertedPath}t=t.path}else{return t}}var j=t.match(/^:([0-9]+):([0-9]+):/);if(!j){return null}t=t.substring(j[0].length);if(t.substring(0,5)=="@DT@:"){t=t.substring(5)}if(t.substring(0,5)=="@FT@:"){t=t.substring(5)}if(t.substring(0,4)=="@S@:"){t=t.substring(4)}if(t.substring(0,3)=="@@@"){return t.substring(3)}var u=[];var a="a".charCodeAt(0);var l="#".charCodeAt(0);var b=["C","c","S","s","H","h","V","v","l","L","M","m","z"];var n=t.length;var h=0;var e=true;var d=null;var p=[];var r=function(){if(d){u.push([d,p])}p=[]};while(h<n){var q=t.charCodeAt(h);if(q>=a&&q<a+b.length){r();d=(b[q-a]);e=true}else{if(q>=a+b.length&&q<a+b.length*2){r();d=(b[q-a-b.length]);e=false}else{var s=0;if(e){var g=t.charCodeAt(++h)-l;s=(q-l)*57+g;if(s>1000){s=-(s-1000)}}else{s=q-l;if(s>23){s=-(s-23)}}p.push(s)}}h++}r();if(o){m.convertedPath=u}return u}});$.extend($.theme,{normalizeCommonPattern:function(n,b,c){if(n!==undefined&&n!==null){if(typeof n=="number"){return this.normalizeSandy([b,n])}else{if(typeof n=="string"){if(n==""){return this.normalizeSandy([b,c])}var m=n.split("/");var l=parseFloat(m[1]||c);var a=(m[0]||"").split(" ");if(a.length==0){a=b}return this.normalizeSandy([a,l])}else{if(typeof n=="boolean"){return this.normalizeSandy([b,c])}else{var a=n[0];var h=[];for(var g=0,j=a.length;g<j;g++){var d=a[g];if(d.substring(0,1)=="#"||!d.match(/\(/)){d=d.replace("#","");if(d.length==3){d=d+"F"}else{if(d.length==6){d=d+"FF"}}d="#"+d}d=(this.normalizeColor(d)||"");d=d.replace(/rgba?\(([^,]+,[^,]+,[^,]+)[^\)]*\)/,"$1");h.push(d)}var e=[h];for(var g=1;g<n.length;g++){e.push(n[g])}return e}}}}return null},normalizeSandy:function(a){return this.normalizeCommonPattern(a,["8C8C8C","B4B4B4"],0.15)},normalizeFabric:function(a){return this.normalizeCommonPattern(a,["FFFFFF","787878"],0.35)},normalizeCommonPattern2:function(o,b,n){if(o!==undefined&&o!==null){if(typeof o=="number"){return this.normalizeStripe([b,o])}else{if(typeof o=="string"){if(o==""){return this.normalizeStripe([b,n])}var m=o.split("/");var j=parseFloat(m[1]!=undefined?m[1]:n);var a=(m[0]||"");if(a.length==0){a=b}return this.normalizeStripe([a,j])}else{if(typeof o=="boolean"){return this.normalizeStripe([b,n])}else{var l=o[0];var e=[];l=l.split(" ");for(var d=0,h=l.length;d<h;d++){var g=l[d].split("x");g[0]=g[0]||"#000.0";g[1]=g[1]||1;e.push([$.theme.normalizeColor(g[0]),parseInt(g[1])])}var c=[e];for(var d=1;d<o.length;d++){c.push(o[d])}return c}}}}return null},normalizeStripe:function(a){return this.normalizeCommonPattern2(a,"#000.0.3x2 x3",1)}});$.extend($.theme,{normalizeGradientRenderDimension:function(c,x,e){var o=x;var h=e;var p=c.unit;var l=c.offset;var d=[0,0,o,h];if(c.usePixelRatio){p/=$.theme.devicePixelRatio();l/=$.theme.devicePixelRatio()}if(c.clips){if(c.clips=="t"){d=[0,l,o,p<0?Math.max(0,h+p):p]}else{if(c.clips=="l"){d=[l,0,p<0?Math.max(o+p):p,h]}else{if(c.clips=="b"){p=p<0?Math.max(0,h+p):p;d=[0,h-p-l,o,p]}else{if(c.clips=="r"){p=p<0?Math.max(o+p):p;d=[o-p-l,0,p,h]}}}}}var j=d[0],r=d[1],i=d[2],y=d[3];var m=c.roundInside?c.roundInside:false;var g=m?i:o;var q=m?y:h;var t=[];var n=[];if(c.points){if(c.points=="c"){var w=c.startPoints[0];w=parseFloat(w)*(w.indexOf("%")>0?0.01*o:1);var u=c.startPoints[1];u=parseFloat(u)*(u.indexOf("%")>0?0.01*h:1);var s=0;if(c.ending.length==1){s=parseFloat(c.ending[0])}else{var b=c.ending[0];b=parseFloat(b)*(b.indexOf("%")>0?0.01*o:1);var a=c.ending[1];a=parseFloat(a)*(a.indexOf("%")>0?0.01*h:1);s=Math.sqrt(Math.pow(w-b,2)+Math.pow(u-a,2))}n=[w,u,s]}else{if(c.points=="h"){t=[j,r,j+i,r]}else{t=[j,r,j,r+y]}}}return{rect:d,wdRound:g,hgRound:q,points:t,radials:n}},renderGradientToContext:function(b,p,m){var c=p.canvas;var y;var l=m.wd;var e=m.hg;var r=this.normalizeGradientRenderDimension(b,l,e);var d=m.radius;var h=r.rect[0],n=r.rect[1],g=r.rect[2],x=r.rect[3];if(b.points){if(b.points=="c"){var w=r.radials[0],u=r.radials[1],o=r.radials[2];y=p.createRadialGradient(w,u,0,w,u,o)}else{y=p.createLinearGradient.apply(p,r.points)}}if(b.colorStops){var t=b.colorStops.length;if(t>1){for(var q=0;q<t;q++){var i=b.colorStops[q];y.addColorStop(i.stop,i.color)}p.fillStyle=y}else{p.fillStyle=b.colorStops[0].color}if(!b.isIcon){p.save();var a=m.pixelRatio||1;p.scale(a,a);p.beginPath();var s=bezierPoints(r.wdRound,r.hgRound,0,0,0,0,m.tip);$.theme.renderPathToContext(p,s);p.closePath();p.fillRect(h,n,g,x);p.restore()}}},renderStrokeToContext:function(d,b,a){var c=b.fillStyle;this.renderGradientToContext(d,b,a);b.strokeStyle=b.fillStyle;b.fillStyle=c},renderSVGGradient:function(i){var b="";var h=[];h.push("<defs>");if(i){if(i.colorStops){var d=i.colorStops.length;if(d>1){var g='x1="0%" y1="0%" x2="0%" y2="100%"';if(i.points=="h"){g='x1="0%" y1="0%" x2="100%" y2="0%"'}if(i.points=="v"){g='x1="0%" y1="0%" x2="0%" y2="100%"'}if(i.points=="rh"){g='x1="100%" y1="0%" x2="0%" y2="0%"'}if(i.points=="rv"){g='x1="0%" y1="100%" x2="0%" y2="0%"'}h.push('<linearGradient id="grad" '+g+">");for(var c=0;c<d;c++){var e=i.colorStops[c];var a=$.theme.normalizeIEColor(e.color);h.push('<stop offset="'+(e.stop*100)+'%" stop-color="'+a.color+'" stop-opacity="'+a.opacity+'" />')}h.push("</linearGradient>");b='fill="url(#grad)"'}else{b='fill="'+i.colorStops[0].color+'"'}}}h.push("</defs>");h=h.join("");return[b,h]},renderSVGStroke:function(b){var a=this.renderSVGGradient(b);a[0]=a[0].replace(/fill=/g,'vector-effect="non-scaling-stroke" fill="transparent" stroke=');return a},duplicateTipInfos:function(b){if(b==null){return null}var e=[];for(var d=0;d<b.length;d++){if(b[d]){var a=[];for(var c=0;c<b[d].length;c++){a.push(b[d][c])}e.push(a)}else{e.push(null)}}return e},renderShadowToContext:function(d,c){var e=d.canvas;var h=c.wd;var g=c.hg;var b=c.radius;if(c.insetShadow){c.insetShadow.pixelRatio=c.pixelRatio||1;$.theme.drawInnerShadow(c.insetShadow,d,function(j){var l=c.borders?c.borders.length:0;var n=l*(0.5722847498)*2;var m=bezierPoints(h-2*l,g-2*l,b[0]-n,b[1]-n,b[2]-n,b[3]-n,c.tip);var o=c.pixelRatio||1;j.scale(o,o);j.translate(l,l);$.theme.renderPathToContext(j,m)})}d.save();var i=c.pixelRatio||1;d.scale(i,i);var a=$.android?4:2.5;if($.browser.msie){a=1}if(c.borders){$.theme.drawCanvasVia(d,function(j,r,n){r.width=n.canvas.width*a;r.height=n.canvas.height*a;j.scale(a,a);var s=j;var p=bezierPoints(h,g,0,0,0,0);for(var l=0,m=c.borders.length;l<m;l++){s.save();var o=c.borders.length-l;s.beginPath();s.scale(-1,1);s.translate(-h,0);$.theme.renderPathToContext(s,p);s.translate(h,0);s.scale(-1,1);s.translate(o,o);var u=o*0.5;var t=$.theme.duplicateTipInfos(c.tip);if(t){if(t[0]&&(t[0][2]==2||t[0][2]==0)){t[0][3]=t[0][3]||0;t[0][3]+=(t[0][2]==2?1:-1)*o}if(t[2]&&(t[2][2]==2||t[2][2]==0)){t[2][3]=t[2][3]||0;t[2][3]+=(t[2][2]==2?-1:1)*o}if(t[1]&&(t[1][2]==2||t[1][2]==0)){t[1][3]=t[1][3]||0;t[1][3]+=(t[1][2]==2?1:-1)*o}if(t[3]&&(t[3][2]==2||t[3][2]==0)){t[3][3]=t[3][3]||0;t[3][3]+=(t[3][2]==2?-1:1)*o}}var q=bezierPoints(h-2*o,g-2*o,Math.max(0,b[0]-u),Math.max(0,b[1]-u),Math.max(0,b[2]-u),Math.max(0,b[3]-u),t);$.theme.renderPathToContext(s,q);s.closePath();$.theme.renderGradientToContext(c.borders[l],s,{wd:c.wd-2*o,hg:c.hg-2*o,pixelRatio:c.pixelRatio,radius:[Math.max(0,b[0]-u),Math.max(0,b[1]-u),Math.max(0,b[2]-u),Math.max(0,b[3]-u)]});s.fill();s.restore()}})}d.restore()}});$.extend($.theme,{maskPath:function(a,b){b=b||function(){};this.drawCanvasVia(a,function(d,e,c){b(d);d.fillStyle="#000";d.fill();c.globalCompositeOperation="destination-in"})},maskGradient:function(b,a){if(a&&a.length>0){this.drawCanvasVia(b,function(m,e,l){for(var g=0,j=a.length;g<j;g++){var p=a[g];p.isIcon=1;m.save();$.theme.renderGradientToContext(p,m,{wd:e.width,hg:e.height,radius:0});var h=$.theme.normalizeGradientRenderDimension(p,e.width,e.height);var c=h.rect[0],n=h.rect[1],d=h.rect[2],o=h.rect[3];m.fillRect(c,n,d,o);m.restore()}l.globalCompositeOperation="destination-in"})}},drawCanvasVia:function(a,c){var b=document.createElement("canvas");b.width=a.canvas.width;b.height=a.canvas.height;tempContext=b.getContext("2d");c=c||function(){};c(tempContext,b,a);if($.browser.msie){a.drawImage(b,0,0,b.width,b.height)}else{a.drawImage(b,0,0,b.width,b.height,0,0,a.canvas.width,a.canvas.height)}a.globalCompositeOperation="source-over";a.globalAlpha=1;delete b},drawCanvasViaWithMask:function(b,a,c){if(a){$.theme.drawCanvasVia(b,function(e,g,d){c(e,g,d);$.theme.maskGradient(e,a)})}else{c(b,b.canvas,b)}}});$.extend($.theme,{renderPathToContext:function(b,p,g){var m=parseFloat;var q=0,o=0;var l=p.length;var j=function(c){return g?1*Math.round(parseFloat(c)*g)/g:parseFloat(c)};for(var h=0;h<l;++h){var n=p[h][1];var d=p[h][0];var e=false;while(!e){e=true;var a=[];switch(d){case"a":a=["arcTo",[m(n[0]),m(n[1]),q=m(n[2]),o=m(n[3]),m(n[4])]];break;case"q":a=["quadraticCurveTo",[m(n[0]),m(n[1]),q=m(n[2]),o=m(n[3])]];break;case"C":a=["bezierCurveTo",[j(n[0]),j(n[1]),j(n[2]),j(n[3]),q=j(n[4]),o=j(n[5])]];break;case"c":a=["bezierCurveTo",[q+j(n[0]),o+j(n[1]),q+j(n[2]),o+j(n[3]),q+=j(n[4]),o+=j(n[5])]];break;case"l":a=["lineTo",[q+=j(n[0]),o+=j(n[1])]];break;case"L":a=["lineTo",[q=j(n[0]),o=j(n[1])]];break;case"M":a=["moveTo",[q=j(n[0]),o=j(n[1])]];break;case"m":a=["moveTo",[q+=j(n[0]),o+=j(n[1])]];break;case"z":a=["closePath",[]];break}b[a[0]].apply(b,a[1])}}},calculateIconRenderBox:function(t,i){var s=t.normWidth;var o=t.normHeight;var g={width:i.wd,height:i.hg};g.width-=(t.paddingLeft+t.paddingRight);g.height-=(t.paddingTop+t.paddingBottom);var m=$.theme.devicePixelRatio()<=1;if(m&&t.strokeOnly){if(t.strokeAdjustmentShift){g.width-=$.theme.devicePixelRatio();g.height-=$.theme.devicePixelRatio()}}var a=Math.min(1*g.width/t.normWidth,1*g.height/t.normHeight);var d=a*t.normWidth;var q=a*t.normHeight;var w=t.maxWidth||d;var r=t.maxHeight||q;d=t.frameWidth?t.frameWidth:d;q=t.frameHeight?t.frameHeight:q;if(m&&t.strokeOnly){if(t.strokeAdjustmentShift){w-=$.theme.devicePixelRatio();d-=$.theme.devicePixelRatio();r-=$.theme.devicePixelRatio();q-=$.theme.devicePixelRatio()}}var p=Math.min(1*Math.min(d,w)/t.normWidth,1*Math.min(q,r)/t.normHeight);var b=p*t.normWidth;var j=p*t.normHeight;var x=1*(t.BPos=="end"?2:(t.BPos=="mid"?1:0))/2;var h=1*(t.XPos=="r"?2:(t.XPos=="c"?1:0))/2;var e=1*(t.YPos=="b"?2:(t.YPos=="c"?1:0))/2;var u=(g.width-d)*x;var n=(g.height-q)*x;var l=t.paddingLeft+u+(d-b)*h;var c=t.paddingTop+n+(q-j)*e;return{ratio:p,left:Math.round(l*$.theme.devicePixelRatio())/$.theme.devicePixelRatio(),top:Math.round(c*$.theme.devicePixelRatio())/$.theme.devicePixelRatio(),iconWidth:b,iconHeight:j,offsetX:(t.offsetX||0)*p,offsetY:(t.offsetY||0)*p}},renderIconPathSVG:function(e,A,m,l,h,z){var H=this;var D=e.contextPaths?e.contextPaths:this.normalizeIconPath(e.points);e.contextPaths=D;var F=H.calculateIconRenderBox(e,m);var s=F.ratio;var o=e.useHighlight||e.useShadow;var d=m.pixelRatio||1;if(!e.svgString){var J=[];for(var E=0,G=D.length;E<G;++E){var I=D[E][1];var C=D[E][0];if(C!="z"){J.push([C,I.join(" ")].join(" "))}else{J.push([C].join(""))}}J=J.join(" ");e.svgString=J}var y=e.svgString;var u=$.theme.duotoneGradient(e,m);var q=$.theme.renderSVGGradient(u);if(e.strokeOnly){q=$.theme.renderSVGStroke(u)}if(e.strokeWidth){var B=e.strokeWidth*(e.strokeWidthMultiplier?$.theme.devicePixelRatio():1)/$.theme.devicePixelRatio();q[0]+=' stroke-width="'+(B)+'"'}var j=q[0];var w=q[1];var g="";if($.theme.devicePixelRatio()<=1&&e.strokeOnly){var B=(e.strokeWidth?e.strokeWidth:1)*(e.strokeWidthMultiplier?$.theme.devicePixelRatio():1);if(e.strokeAdjustmentShift&&(B<=1)){g="translate(0.5,0.5)"}}if(e.fillShift&&!e.strokeOnly){g="translate("+(e.fillShiftX)+","+(e.fillShiftY)+") "+g}if(e.strokeShift&&e.strokeOnly){g+=" translate("+(e.strokeShiftX)+","+(e.strokeShiftY)+") "+g}var n="scale("+[d,d].join(",")+") "+g+" translate("+[F.left+(F.offsetX||0),F.top+(F.offsetX||0)].join(",")+") scale("+[s,s].join(",")+")";if(e.inverted){var x=function(c,i){return[(1*c/d-F.left)/s,(1*i/d-F.top)/s].join(" ")};var b=["M",x(0,0),"L",x(l,0),"L",x(l,h),"L",x(0,h),"L",x(0,0)].join(" ")+y;var a=["M",x(0,0),"L",x(0,h),"L",x(l,h),"L",x(l,0),"L",x(0,0)].join(" ")+y;var p=w+'<path d="'+b+'" '+j+' transform="'+n+'" style="fill-rule:evenodd"/><path d="'+a+'" fill="white" transform="'+n+'" style="fill-rule:evenodd"/>';var t=z?p:$.theme.wrapSVG(p,l,h);return t}var p=w+'<path d="'+y+'" '+j+' transform="'+n+'" style="fill-rule:evenodd"/>';var t=z?p:$.theme.wrapSVG(p,l,h);return t},renderIconPath:function(n,l,d){var g=this;var c=d.pixelRatio||1;var m=n.contextPaths?n.contextPaths:this.normalizeIconPath(n.points);n.contextPaths=m;var i=g.calculateIconRenderBox(n,d);var b=i.ratio;var a=n.useHighlight||n.useShadow;var h=$.theme.duotoneGradient(n,d);var e=n.sharp||(n.strokeOnly&&n.strokeAdjustmentShift);if($.theme.devicePixelRatio()>1){e=false}var j=function(o){if(n.useInner){n.useInner.pixelRatio=c;$.theme.drawInnerShadow(n.useInner,o,function(p){p.scale(c,c);p.translate(i.offsetX||0,i.offsetY||0);p.translate(i.left,i.top);p.scale(b,b);$.theme.renderPathToContext(p,m,e?b:0)})}};if(n.inverted){j(l)}$.theme.drawCanvasViaWithMask(l,(n.inverted||(!n.gradient&&a)),function(o,p,w){var x=function(z){if(n.sandy||n.fabric||n.stripe){$.theme.drawCanvasVia(o,function(C,B,A){$.theme.renderPattern(C,n);if(!z){return}$.theme.maskPath(C,function(D){D.save();D.scale(c,c);D.translate(i.offsetX||0,i.offsetY||0);D.translate(i.left,i.top);D.scale(b,b);D.beginPath();$.theme.renderPathToContext(D,m,e?b:0);D.closePath();D.fillStyle="#000";D.fill();D.restore()})})}};if(n.inverted&&n.gradient){n.gradient.isIcon=false;g.renderGradientToContext(h,o,d);n.gradient.isIcon=true}if(n.inverted){x(false)}o.save();o.scale(c,c);n.pixelRatio=c;if(e&&n.strokeOnly){var y=(n.strokeWidth?n.strokeWidth:1)*(n.strokeWidthMultiplier?$.theme.devicePixelRatio():1);if(n.strokeAdjustmentShift&&(y<=1)){o.translate(0.5,0.5)}if(n.strokeAdjustmentShift&&c>=2){o.translate(c,c)}}if(n.fillShift&&!n.strokeOnly){o.translate(n.fillShiftX/c,n.fillShiftY/c)}if(n.strokeShift&&n.strokeOnly){o.translate(n.strokeShiftX/c,n.strokeShiftY/c)}o.translate(i.offsetX||0,i.offsetY||0);o.translate(i.left,i.top);o.scale(b,b);if((n.inverted||!n.gradient)&&!$.theme.invertedGradientGlyph){var t=g.normalizeGradients("@v #000");for(var s=0,u=t.length;s<u;s++){t[s].isIcon=true}$.theme.invertedGradientGlyph=t[0]}o.save();o.beginPath();$.theme.renderPathToContext(o,m,e?b:0);if(!n.strokeOnly){o.closePath()}if(n.gradient){o.scale(1/b,1/b);if(n.strokeOnly){g.renderStrokeToContext(n.inverted?$.theme.invertedGradientGlyph:h,o,{wd:d.wd*(1*i.iconWidth/d.wd),hg:d.hg*(1*i.iconHeight/d.hg),pixelRatio:c,radius:d.radius})}else{g.renderGradientToContext(n.inverted?$.theme.invertedGradientGlyph:h,o,{wd:d.wd*(1*i.iconWidth/d.wd),hg:d.hg*(1*i.iconHeight/d.hg),pixelRatio:c,radius:d.radius})}}else{o.scale(1/b,1/b);if(n.strokeOnly){g.renderStrokeToContext($.theme.invertedGradientGlyph,o,{wd:d.wd*(1*i.iconWidth/d.wd),hg:d.hg*(1*i.iconHeight/d.hg),pixelRatio:c,radius:d.radius})}else{g.renderGradientToContext($.theme.invertedGradientGlyph,o,{wd:d.wd*(1*i.iconWidth/d.wd),hg:d.hg*(1*i.iconHeight/d.hg),pixelRatio:c,radius:d.radius})}}o.save();if(a){var r=1;if($.android){if(!$.droidY){var p=document.createElement("canvas");p.height=p.width=3;var q=p.getContext("2d");q.shadowOffsetX=q.shadowOffsetY=q.shadowBlur=1;q.shadowColor=999;q.fillRect(1,1,1,1);$.droidY=q.getImageData(0,0,3,3).data[8]?-1:1;delete p}r=$.droidY}o.shadowOffsetX=parseInt(a[1]||0)*c;o.shadowOffsetY=parseInt(a[2]||2)*c*r;o.shadowBlur=parseInt(a[3]||3)*c;o.shadowColor=a[0]?g.normalizeColor(a[0]):"rgba(255, 255, 255, 0.8)"}if((n.gradient&&!n.inverted)||a){if(!n.gradient&&a){o.fillStyle=o.shadowColor}if(!n.strokeOnly){o.fill()}}if(n.stroke||n.strokeOnly){var y=(n.strokeWidth?n.strokeWidth:1)*(n.strokeWidthMultiplier?$.theme.devicePixelRatio():1);o.lineWidth=y/c;o.stroke()}if(n.strokeOnly){o.closePath()}o.restore();if((n.inverted||!n.gradient)){o.globalCompositeOperation="destination-out";o.fillStyle="#FFF";if(!n.strokeOnly){o.fill()}o.globalCompositeOperation="source-over"}o.restore();o.restore();if(!n.inverted){x(true)}if(!n.inverted){j(o)}})},drawInnerShadow:function(d,c,e){var a=this;var b=function(g){var m=20;var l=function(p){p.moveTo(-m,-m);if(g){p.lineTo(-m,p.canvas.height+m);p.lineTo(p.canvas.width+m,p.canvas.height+m);p.lineTo(p.canvas.width+m,-m)}else{p.lineTo(p.canvas.width+m,-m);p.lineTo(p.canvas.width+m,p.canvas.height+m);p.lineTo(-m,p.canvas.height+m)}e=e||function(){};e(p)};var j=document.createElement("canvas");j.width=c.canvas.width;j.height=c.canvas.height;shadowContext=j.getContext("2d");l(shadowContext);if(d.length==3){d.unshift("#000")}var o=a.normalizeColor(d[0]);var n=d.pixelRatio||1;shadowContext.shadowOffsetX=parseInt(d[1]||0)*n;shadowContext.shadowOffsetY=parseInt(d[2]||1)*n;shadowContext.shadowBlur=parseInt(d[3]||3)*n;shadowContext.shadowColor=d[0]?o:"#000";o=o.replace(/([^,]+,[^,]+,[^,]+,)[^,]+\)/,function(p){return"$11)"});shadowContext.fillStyle=o;shadowContext.fill();var i=document.createElement("canvas");i.width=c.canvas.width;i.height=c.canvas.height;shadowContext2=i.getContext("2d");l(shadowContext2);shadowContext2.fillStyle=o;shadowContext2.fill();var h=document.createElement("canvas");h.width=c.canvas.width;h.height=c.canvas.height;shadowContext3=h.getContext("2d");shadowContext3.drawImage(j,0,0,j.width,j.height);shadowContext3.globalCompositeOperation="destination-out";shadowContext3.drawImage(i,0,0,j.width,j.height);c.drawImage(h,0,0,j.width,j.height);delete j;delete i;delete h;if(!g){b(true)}};b()},drawOuterShape:function(c,d){var a=this;var b=function(e){var i=20;var h=function(j){j.moveTo(-i,-i);if(e){j.lineTo(-i,j.canvas.height+i);j.lineTo(j.canvas.width+i,j.canvas.height+i);j.lineTo(j.canvas.width+i,-i)}else{j.lineTo(j.canvas.width+i,-i);j.lineTo(j.canvas.width+i,j.canvas.height+i);j.lineTo(-i,j.canvas.height+i)}d=d||function(){};d(j)};var g=document.createElement("canvas");g.width=c.canvas.width;g.height=c.canvas.height;shadowContext=g.getContext("2d");h(shadowContext);shadowContext.fill();c.drawImage(g,0,0,g.width,g.height);delete g;if(!e){b(true)}};b()}});$.extend($.theme,{renderFabric:(function(){var a=function(g){return 0.1*~~(10*g)};var b={};var e=function(g){if(!b[g]){b[g]=Math.random()}return b[g]};var d={};var c=function(l,m,g,t,h){h=h||1;var j=document.createElement("canvas");j.width=l*h;j.height=m*h;var u=j.getContext("2d");u.scale(h,h);var s=[0.012,0.023,0.02];for(var n=0;n<m-1;n++){var o=g[Math.min(~~(e(t+n*10+1)*g.length),g.length-1)];var r=u.createLinearGradient(0,0,l,m);r.addColorStop(0,"rgba("+o+",0)");r.addColorStop(a(e(t+n*10+2)*0.6+0.1),"rgba("+o+","+a(e(t+n*10+3)*0.8+0.05)+")");u.fillStyle=r;var q=Math.floor(e(t+n*10+4)*l);u.fillRect(q,n,(l-q)*e(t+n*10+5)*30*s[n%3],1);n+=~~(e(t+n*10+6)*s[n%3]*m);var p=Math.floor(e(t+n*10+7)*m);u.fillRect(n,p,1,(m-p)*e(t+n*10+8));n+=~~(e(t+n*10+9)*s[n%3]*l)}return j};return function(q,m,s,h){var g=m[0];var l=m[1];h=h||1;var p="fabric"+g.join("-");q.save();var j=q.canvas;var r=[[167,153],[251,223],[153,167],[223,251]];for(var n=0,o=r.length;n<o;n++){if(!d[p+"-"+n+"-"+h]){d[p+"-"+n+"-"+h]=c(r[n][0],r[n][1],g,n*10000,h)}$.theme.drawCanvasViaWithMask(q,s,function(t,x,i){var y=t.createPattern(d[p+"-"+n+"-"+h],"repeat");t.fillStyle=y;q.globalAlpha=l;var w=~~(e(150000+2*n)*30+30);var u=~~(e(150000+2*n+1)*30+30);t.translate(w,u);t.fillRect(-w,-u,x.width,x.height);t.translate(-w,-u)})}q.restore()}})(),renderSandy:(function(){var b={};var a=function(q){var H=400;var s=400;var g=10;var h=document.createElement("canvas");var e=h.getContext("2d");h.width=H/g;h.height=s/g;var G=e.createImageData(H,s);var t=G.data;var l=[];var r=q[0].split(",");var u=q[1].split(",");var o=10;var A=[parseInt(r[0]),parseInt(r[1]),parseInt(r[2])];var I=[parseInt(u[0]),parseInt(u[1]),parseInt(u[2])];for(var C=0;C<3;C++){l[C]=[];for(var D=0;D<o;D++){var x=A[C]+D*((I[C]-A[C])/o);l[C][D]=x}}var E=o;for(var D=0;D<h.height;D++){for(var C=0;C<h.width;C++){var x=Math.round(Math.random()*(E-1));if(Math.random()<0.3){x=Math.floor(5*o/6)}var w=(C+D*H)*4;t[w+0]=l[0][x];t[w+1]=l[1][x];t[w+2]=l[2][x];t[w+3]=255}}e.putImageData(G,0,0);if(g==1){return h}var d=document.createElement("canvas");var z=d.getContext("2d");d.width=H;d.height=s;var m=z.createPattern(h,"repeat");z.fillStyle=m;z.fillRect(0,0,d.width,d.height);var B=0.855;z.scale(B,B);var p=[[-3,-5,0.15],[-5,-9,0.1],[-7,-11,0.2]];for(var D=0,E=p.length;D<E;D++){z.globalAlpha=p[D][2];var c=document.createElement("canvas");var y=c.getContext("2d");c.width=h.width+p[D][0];c.height=h.width+p[D][1];var F=y.createPattern(h,"repeat");y.fillStyle="#000";y.fillRect(0,0,c.width,c.height);y.globalAlpha=0.95;y.fillStyle=F;y.fillRect(0,0,c.width,c.height);z.fillStyle=z.createPattern(c,"repeat");z.fillRect(0,0,H/B,s/B);delete c}delete h;return d};return function(n,l,o,d){var c=l[0];var g=l[1];n.save();var m="sandy"+c.join("-");var e=n.canvas;for(var h=0,j=1;h<j;h++){if(!b[m+"-"+h]){b[m+"-"+h]=a(c)}$.theme.drawCanvasViaWithMask(n,o,function(p,r,i){var s=p.createPattern(b[m+"-"+h],"repeat");p.fillStyle=s;p.globalAlpha=g;for(var q=0;q<4;q++){p.fillRect(0,0,e.width,e.height)}p.globalAlpha=1})}n.restore()}})(),renderStripe:(function(){var b={};var a=function(p,h,d){var g=h==90?1:0;var o=h==0||h==90?0:(h||1);var m=0;for(var l=0,n=p.length;l<n;l++){m+=p[l][1]}d=d||1;var e=document.createElement("canvas");var c=e.getContext("2d");e.width=m;e.height=m;if(g==0){var s=0;for(var l=0,n=p.length;l<n;l++){c.fillStyle=p[l][0];c.fillRect(s,0,p[l][1],1);s+=p[l][1]}var j=1;while(j<m){var u=(j*-1*o+2*m)%m;c.drawImage(e,0,0,m,j,u,j,m,j);c.drawImage(e,0,0,m,j,u-m,j,m,j);j*=2}}else{var r=0;for(var l=0,n=p.length;l<n;l++){c.fillStyle=p[l][0];c.fillRect(0,r,1,p[l][1]);r+=p[l][1]}var q=1;while(q<m){var t=(q*-1*o+2*m)%m;c.drawImage(e,0,0,q,m,q,t,q,m);c.drawImage(e,0,0,q,m,q,t-m,q,m);q*=2}}return e};return function(d,e,c,l){var i=e[0];var g=e[1];l=l||1;d.save();var h="stripe"+i.join(" ")+"-"+g+"-"+l;var j=d.canvas;if(!b[h]){b[h]=a(i,g,l)}d.save();d.scale(l,l);$.theme.drawCanvasViaWithMask(d,c,function(n,o,m){var p=n.createPattern(b[h],"repeat");n.fillStyle=p;n.fillRect(0,0,o.width,o.height);if(c){n.scale(1/l,1/l)}});d.restore();d.restore()}})(),renderPattern:function(b,a){b.save();if(a.sandy){this.renderSandy(b,a.sandy,a.sandyMask,a.pixelRatio)}if(a.fabric){this.renderFabric(b,a.fabric,a.fabricMask,a.pixelRatio)}if(a.stripe){this.renderStripe(b,a.stripe,a.stripeMask,a.pixelRatio)}b.restore()},renderRadiusClip:function(c,b){var a=2.5;if($.browser.msie){a=1}a=1;if(b.radius||b.tip||b.sandy||b.fabric||b.stripe){c.globalCompositeOperation="destination-in";$.theme.maskPath(c,function(g){var i=b.pixelRatio;var h=g.canvas;h.width=h.width*a;h.height=h.height*a;g.scale(a,a);g.scale(i,i);g.beginPath();var d=b.radius;var e=bezierPoints(b.wd,b.hg,d[0],d[1],d[2],d[3],b.tip);$.theme.renderPathToContext(g,e);g.closePath()})}}});(function(){var b="#".charCodeAt(0);var a=function(e){var g=e.charCodeAt(0)-b;var d=e.charCodeAt(1)-b;v=g*57+d;if(v>1000){v=-(v-1000)}return v};$.extend($.theme,{mosaicMetadata:function(h){if(typeof h=="function"){h=h()}if(!h){return}var g=0;var d=h.indexOf(":",g);d=h.indexOf(":",d+2);d=h.indexOf(":",d+2);var c=h.substring(g,d).split(":");g=d+1;hash={maxx:parseInt(c[0]),maxy:parseInt(c[1]),vertices:parseInt(c[2]),clr6:true,rgba:true};while(h.substr(g,1)=="@"){d=h.indexOf(":",g+1);var e=h.substring(g,d).split(":")[0].split("@")[1].split("_");hash[e[0]]=e[1];if(e[0]=="rgb"){hash.rgba=0}if(e[0]=="clr3"){hash.clr6=0}g=d+1}hash.startPos=g;return hash},renderMosaic:function(K,d,A){var m=A.wd;var n=A.hg;if(typeof K=="function"){K=K()}if(!K){return}var B=$.theme.mosaicMetadata(K);if(!B){return}var h=B.maxx;var e=B.maxy;var p=B.vertices;var t=B.rgba;var F=B.clr6;var o=B.startPos;var E=K.length;var l=p==3;var c=Math.min(1.99,A.pixelRatio||1);var L=Math.min(0.1*Math.min(m,n),A.mosaicPad||0);var q=Math.max(1*(m+2*L)/h,1*(n+2*L)/e);var s=h*q;var j=e*q;d.save();d.scale(c,c);d.translate((m+2*L-s-L)/2,(n+2*L-j-L)/2);var C=Math.max(h*q,e*q);var H=[];while(o<E){var z=false;if(l&&K.substr(o,1)=="~"){o+=1;z=true}var D,J,M,N;if(F){D=parseInt(K.substr(o,2),16);J=parseInt(K.substr(o+2,2),16);M=parseInt(K.substr(o+4,2),16);N=1;if(t){N=1*parseInt(K.substr(o+6,2),16)/255}}else{D=parseInt(K.substr(o,1),16);J=parseInt(K.substr(o+1,1),16);M=parseInt(K.substr(o+2,1),16);D=D*16+D;J=J*16+J;M=M*16+M;N=1;if(t){N=1*parseInt(K.substr(o+3,1),16);N=N*16+N;N=N/255}}var G="rgba("+[D,J,M,N].join(",")+")";if(F){o+=t?8:6}else{o+=t?4:3}d.fillStyle=G;d.strokeStyle=G;d.beginPath();if(z){d.moveTo(H[0][0],H[0][1]);d.lineTo(H[1][0],H[1][1]);var w=1*a(K.substr(o,2))/1000*C;var u=1*a(K.substr(o+2,2))/1000*C;o+=4;d.lineTo(w,u);H.push([w,u]);H.shift()}else{H=[];var w=1*a(K.substr(o,2))/1000*C;var u=1*a(K.substr(o+2,2))/1000*C;o+=4;d.moveTo(w,u);for(var I=1;I<p;I++){var w=1*a(K.substr(o,2))/1000*C;var u=1*a(K.substr(o+2,2))/1000*C;o+=4;d.lineTo(w,u);H.push([w,u])}}d.closePath();d.fill();d.stroke()}d.restore()}})})();$.extend($.theme,{normalizeTones:function(d){if(d&&(typeof d=="string")){var c={};c.colors=[];c.auto=true;var h=d.split(",");var a=h.length;for(var e=0;e<a;e++){var g=$.trim(h[e]);if(g.indexOf("@bleed")==0){c.bleed=true}else{if(g.indexOf("@cell")==0){c.maxCellSize=parseInt(g.replace("@cell","").replace(/[^0-9\.]+/,""))}else{if(g.indexOf("@div")==0){c.divider=parseInt(g.replace("@offset","").replace(/[^0-9\.]+/,""))}else{if(g.indexOf("@offset")==0){c.offsetDegree=parseInt(g.replace("@offset","").replace(/[^0-9\.]+/,""))}else{if(g.indexOf("@exc")==0){c.exclusive=true}else{if(g.indexOf("#")==0){var b=g.split(":");if(b[1]){c.auto=false;b[1]=parseInt(b[1])}c.colors.push([b[0],b[1]])}}}}}}}return c}return d},calculateToneColor:function(u,e){var h=0;var j=[];var p=(u[0][0]+u[1][0]+u[2][0])*0.33+Math.random()*(e.cellSize||0)/5;var o=(u[0][1]+u[1][1]+u[2][1])*0.33+Math.random()*(e.cellSize||0)/5;e=e||{};var n=e.colors||[];for(var x=0,z=n.length;x<z;x++){var a=n[x];var C=(Math.pow(a.p[0]-p,2)+Math.pow(a.p[1]-o,2));j.push(C)}var s=j[0]||0;var y=0;for(var x=0,z=n.length;x<z;x++){if(e.exclusive){if(!e.bleed){j[x]=1.35*e.maxDistance-Math.min(1.35*e.maxDistance,Math.sqrt(j[x]))}if(j[x]<s){y=x;s=j[x]}}else{if(!e.bleed){j[x]=1.35*e.maxDistance-Math.min(1.35*e.maxDistance,Math.sqrt(j[x]))}}h+=j[x]}var t=0,A=0,D=0;if(e.exclusive){var B=0;var c=0;var w=0,E=0,l=0;for(var x=0,z=n.length;x<z;x++){if(x!=y){c+=j[x]}}for(var x=0,z=n.length;x<z;x++){if(x!=y){var a=n[x];var q=j[x]/c;w+=a.c[0]*q;E+=a.c[1]*q;l+=a.c[2]*q}}if(n.length>0){var m=Math.min(1,Math.max(0,1*j[y]/(j[y]+c)));var a=n[y];t+=a.c[0]*m+w*(1-m);A+=a.c[1]*m+E*(1-m);D+=a.c[2]*m+l*(1-m)}}else{for(var x=0,z=n.length;x<z;x++){var a=n[x];var q=((1*j[x])/Math.max(1,h))/z;t+=a.c[0]*q;A+=a.c[1]*q;D+=a.c[2]*q}}t=Math.min(255,Math.round(t));A=Math.min(255,Math.round(A));D=Math.min(255,Math.round(D));return"#"+[(t<16?"0":"")+t.toString(16),(A<16?"0":"")+A.toString(16),(D<16?"0":"")+D.toString(16)].join("")},renderTones:function(C,c,t){var p=t.wd;var e=t.hg;if(typeof C=="function"){C=$.theme.normalizeTones(C())}if(!C){return}var a=Math.min(1.99,t.pixelRatio||1);c.save();c.scale(a,a);var d=Math.round(Math.max(p,e)/(C.divider?C.divider:12));if(C.maxCellSize){d=Math.max(C.maxCellSize,d)}var A=Math.max(p/2,e/2);var E=C.bleed;var K=C.exclusive;var r=[];var l=1*(C.offsetDegree||0)/180*Math.PI;if(!E){l+=Math.PI}l+=Math.PI;for(var H=0,J=C.colors.length;H<J;H++){var b=C.colors[H][0];var z=C.colors[H][1];if(C.auto||(z!=undefined)){b=b.replace("#","").match(/[a-fA-F0-9]{2}/g);b=[parseInt(b[0],16),parseInt(b[1],16),parseInt(b[2],16)];var h=C.auto?H*2*Math.PI/J+l:1*z/180*Math.PI+l;r.push({c:b,p:[p/2*Math.cos(h)+p/2,-e/2*Math.sin(h)+e/2]})}}var s=Math.ceil(e/d)+3;var w=Math.ceil(p/d)+3;var G=[];for(var H=0;H<s;H++){G[H]=[];var x=-Math.round(Math.random()*d)-d;var u;for(var F=0;F<w;F++){x=Math.round(-d/2+F*d+(Math.random()*0.5-1)*2*d/1.5);u=Math.round(-d/2+H*d+(Math.random()*0.5-1)*2*d/2);G[H].push([x,u])}}for(var H=0;H<s-1;H++){var m=[0,0];var B=[0,0];var N=(Math.random()>0.5?1:0);var M=0;var o=G[H].length+G[H+1].length;while(M<o&&(m[N]<G[H+N].length-1||m[1-N]<G[H+(1-N)].length-1)){B[N]++;if(B[N]>=2){B[N]=0;N=1-N}var I=N;var L=m[N];var g=m[1-N];var n=true;if(Math.abs(m[N]+1-m[1-N])>=2){n=false}var y;var q;if(n){y=Math.min(G[H+N].length-1,m[N]+1);m[N]=y;q=H+I}else{y=Math.min(G[H+(1-N)].length-1,m[1-N]+1);m[1-N]=y;q=H+(1-I)}if(Math.abs(m[0]-m[1])>=1){N=m[0]<m[1]?0:1}else{if(Math.random()>0.5){N=1-N}}M++;var D=[G[H+I][L],G[q][y],G[H+(1-I)][g]];if(D[0]&&D[1]&&D[2]){c.beginPath();c.moveTo(D[0][0],D[0][1]);c.lineTo(D[1][0],D[1][1]);c.lineTo(D[2][0],D[2][1]);c.closePath();var b=$.theme.calculateToneColor(D,{colors:r,bleed:E,maxDistance:A,cellSize:d,exclusive:K});c.strokeStyle=b;c.fillStyle=b;c.fill();c.stroke()}}}c.restore()}});$.theme=$.theme||{};(function(){var a=[];var b=null;var c=function(){b=null;for(var e=0,d=a.length;e<d;e++){a[e]()}a=[]};$.extend($.theme,{deferCSS:function(d){a.push(d);if(!b){b=setTimeout(c,200)}}})})();(function(){var g={};var b={};var e=null;var d=null;var i=false;var a=-1;var c=-1;var h={};$.extend($.theme,{hasCSSKey:function(j){j=j.replace(/[:\. ]/g,"_");if(this.hasIgnoreCacheKey(j)){return false}return j in g},hasIgnoreCacheKey:function(j){j=j.replace(/[:\. ]/g,"_");if(h[j]){return true}},removeIgnoreCacheKey:function(j){j=j.replace(/[:\. ]/g,"_");delete h[j]},cssRegMethod:function(m){var l=e;if(!l){l=document.createElement("style");l.type="text/css";e=l;var j=null;if(document&&document.head){j=document.head}if(!j){j=document.getElementsByTagName("head")[0]}j.appendChild(l);if($.browser.safari){l.appendChild(document.createTextNode(""))}if(!("avoidInsertRule" in window)&&!$.browser.opera&&!m){if(l&&"sheet" in l){if(("insertRule" in l.sheet)&&("deleteRule" in l.sheet)){i=true;window.hasInsertRule=true}}}}if(i&&!m){return"insertRule"}else{if(l.styleSheet){return"IECSSText"}else{return"SafariTextnode"}}},enableGlobalCSS:function(){if(!e){$.theme.cssRegMethod()}if(e){e.disabled=false}if(d){d.disabled=false}},disableGlobalCSS:function(){if(!e){$.theme.cssRegMethod()}if(!d){$.theme.baseCSSRef()}if(e){e.disabled=true}if(d){d.disabled=true}},baseCSSRef:function(m){var l=d;if(!l){l=document.createElement("style");l.type="text/css";d=l;var j=null;if(document&&document.head){j=document.head}if(!j){j=document.getElementsByTagName("head")[0]}j.appendChild(l);if($.browser.safari){l.appendChild(document.createTextNode(""))}}return l},registerCSS:function(s,l,t,j){this.cssRegMethod();var n=j?$.theme.baseCSSRef():e;var o=n==e?g:b;if(window.hasInsertRule&&!t){var r=false;if(s in o){n.sheet.deleteRule(o[s])}else{if(n==d){b[s]=++c}else{if(n==e){g[s]=++a}}}try{if(!(l+"").match(/^[\s\t]*@/)){l="@media all { "+l+" }"}n.sheet.insertRule(l,o[s])}catch(p){n.sheet.insertRule("@media all { notusedtag{} }",o[s])}}else{if(n.styleSheet){o[s]=l;var q=[];for(var m in g){q.push(o[m])}n.styleSheet.cssText=q.join(" ")}else{if(o[s]){o[s].parentNode.removeChild(o[s])}var u=document.createTextNode(l);n.appendChild(u);o[s]=u}}},deregisterCSS:function(j){if(j in g){if(i){e.sheet.deleteRule(g[j]);e.sheet.insertRule("@media all { notusedtag{} }",g[j])}else{if(typeof g[j]!="string"){g[j].parentNode.removeChild(g[j])}}delete g[j]}},deregisterBgCSS:function(j,s){var m=[];var r=j;var p="-[0-9]*-[0-9]*(-border-image)?";r=r||"";r=r.split(".");r[0]=r[0].split(":");r[0][0]=r[0][0].replace(/[:\. ]/g,"_")+"######";var q=r[0][0];r[0]=r[0].join(":");var l=new RegExp(("^bg-"+r.join(".")).replace(/[:\. ]/g,"_").replace("######",p)+"$");var t=new RegExp(("^bg-"+q).replace(/[:\. ]/g,"_").replace("######",p)+"$");for(var r in g){if(l.test(r)||t.test(r)){if(i){e.sheet.deleteRule(g[r]);e.sheet.insertRule("@media all { notusedtag{} }",g[r])}else{if(typeof g[r]!="string"){g[r].parentNode.removeChild(g[r])}}m.push(r)}}for(var n=0,o=m.length;n<o;n++){if(s){h[m[n]]=1}else{delete g[m[n]]}}},deregisterAllBgCSS:function(){var n=[];var o=/^bg-/;for(var m in g){if(o.test(m)){if(i){e.sheet.deleteRule(g[m]);e.sheet.insertRule("@media all { notusedtag{} }",g[m])}else{if(typeof g[m]!="string"){g[m].parentNode.removeChild(g[m])}}n.push(m)}}for(var l=0,j=n.length;l<j;l++){delete g[n[l]]}}})})();$.extend($.fn,{isA:function(){return this.eq(0).attr("absolute")=="1"},isV:function(){return this.eq(0).attr("vertical")=="1"||(this[0]&&this[0].nodeName.toLowerCase()=="v")},isW:function(){return this.eq(0).attr("wrapper")=="1"||(this[0]&&this[0].nodeName.toLowerCase()=="w")},isH:function(){return this.eq(0).attr("horizontal")=="1"||(this[0]&&this[0].nodeName.toLowerCase()=="h")},isL:function(){return this.isV()||this.isH()||this.isW()},isFit:function(){return this.eq(0).attr("fit")=="1"},wdFix:function(){var a=this.eq(0).attr("wd");return a?parseInt(a):null},hgFix:function(){var a=this.eq(0).attr("hg");return a?parseInt(a):null},wdAuto:function(){return this.attr("wd")=="auto"},hgAuto:function(){return this.attr("hg")=="auto"},skipSublayout:function(a){return a.isA()||a.hasClass("display-none")||a.css("display")=="none"},fitH:function(a){if((a||this.parent().isH())&&this.parent().isFit()){return(this.wdFix()===null)&&!this.isA()&&!this.wdAuto()}else{return false}},fitV:function(a){if((a||this.parent().isV())&&this.parent().isFit()){return(this.hgFix()===null)&&!this.isA()&&!this.hgAuto()}else{return false}},flexSupported:null,supportFlex:function(){if(this.flexSupported===null){if("supportFlex" in window&&!window.supportFlex){this.flexSupported=false}else{this.flexSupported=($.browser.chrome||$.browser.safari||$.browser.mozilla)&&!($.browser.msie)}if(this.flexSupported){if("body" in document&&document.body){$(document.body).addClass("support-flex")}else{$(document).ready(function(){$(document.body).addClass("support-flex")})}}}return this.flexSupported},skipFlexRelayout:function(a){return this.attr("ffx")=="1"},skipRelayout:function(c){var b=parseInt(this.attr("zwd")||0);var a=parseInt(this.attr("zhg")||0);return c.bw==b&&c.bh==a},clearLayout:function(){for(var c=0,a=this.length;c<a;c++){var b=this.eq(c);b.removeAttr("zwd");b.removeAttr("zhg");b.removeAttr("ffx")}return this},txy:function(){var b=this.attr("tx")?parseInt(this.attr("tx")):0;var a=this.attr("ty")?parseInt(this.attr("ty")):0;return{x:b,y:a}},jumpXY:function(a,b){this.animateXY(a,b,true)},animateXY:function(b,g,a){var e={};var d={};e={WebkitTransition:a?"none":"-webkit-transform 0.3s ease-in-out",WebkitTransform:"translate3D("+b+"px,"+g+"px,0px)"};d={left:b,top:g};if(!a&&!$.isTouchBase){var c=this.css($.cssPrefix+"-transform");this.css("-webkit-transform",c||c=="none"?"translate3D(0,0,0)":c)}targetLeft=b;this[$.isTouchBase?"css":a?"css":"animate"]($.isTouchBase?e:d);if(!$.isTouchBase){this.attr("tx",""+b);this.attr("ty",""+g)}}});(function(){var b=[["spaceX","sp","sx"],["spaceY","sp","sy"],["padLeft","px","pl"],["padTop","py","pt"],["padBottom","py","pb"],["padRight","px","pr"]];for(var d=0,a=b.length;d<a;d++){var c=b[d];$.fn[c[0]]=(function(g,e){return function(){var i=this.eq(0).attr(g);var h=this.eq(0).attr(e);return h?parseInt(h):(i?parseInt(i):0)}})(c[1],c[2])}})();$.fn.unitInfo=function(b){var c=null;var a={};a.bw=b.wd;a.bh=b.hg;if((c=this.wdFix())!==null&&typeof c!="string"){a.bw=c}else{if(typeof c=="string"&&c.indexOf("%")){a.bw=Math.round(0.01*parseFloat(c)*b.wd)}}if((c=this.hgFix())!==null&&typeof c!="string"){a.bh=c}else{if(typeof c=="string"&&c.indexOf("%")){a.bh=Math.round(0.01*parseFloat(c)*b.hg)}}a.pl=this.padLeft();a.pt=this.padTop();a.pb=this.padBottom();a.pr=this.padRight();a.sx=this.spaceX();a.sy=this.spaceY();a.chg=Math.max(0,a.bh-a.pt-a.pb);a.cwd=Math.max(0,a.bw-a.pl-a.pr);return a};$.fn.averageSize=function(s){var r=[];var d=0;var b=0;var c=this.isH();var p=c?"fitH":"fitV";var n=this.children();var a=n.length;for(var q=0;q<a;q++){var t=n.eq(q);if(this.skipSublayout(t)){}else{b++;if(t[p]()){}else{d++;r.push(t)}}}var m=0;var a=r.length;for(var q=0;q<a;q++){var t=$(r[q]);var o=0;if(c){o=$.layout(t,{hg:s.chg});if(o&&o.wd){o=o.wd}else{o=0}}else{o=$.layout(t,{wd:s.cwd});if(o&&o.hg){o=o.hg}else{o=0}}m+=o}var g=Math.max(0,b-d);var e=c?s.cwd:s.chg;var l=c?s.sx:s.sy;l=l?l:0;e=e?e:0;var u=Math.max(0,(e-m-l*(b-1))/Math.max(1,g));var j=u*g+m+l*(b-1);var h={};if(c){h.avwd=u;h.avcwd=j}else{h.avhg=u;h.avchg=j}return h};$.fn.checkScrollOvershoot=function(){var b=this;if($.scUnit.touch3D&&!$.scUnit.useScroll&&b.hasClass("iscroll-y")){if(!$.hasScrollTouch()){b.css("height","auto");var c=b.offset().top;var a=Math.max(-b.parent().height(),c);if(a!=c){b.css("WebkitTransform","translate3D(0,"+(a)+"px,0)")}}}return this};$.fn.checkScrollY=function(){var b=this;var e=(b.attr("jsclass")+"").indexOf("scroll-y")>=0&&!b.attr("normaltouchscroll");if($.isTouchBase&&$.hasScrollTouch()&&e){b.css("-webkit-overflow-scrolling","touch");b.css("overflow","scroll")}if($.isIETouch&&e){b.css("overflow","scroll");b.css("-ms-overflow-style","none");b.css("-ms-touch-action","pan-x pan-y");b.css("-ms-scroll-rails","railed");b.css("overflow-style","none");b.css("touch-action","pan-x pan-y");b.css("scroll-rails","railed")}if($.isTouchBase&&!$.scUnit.useScroll&&!$.hasScrollTouch()&&e){var d=b.parent().children("div.scbar-y")[0];if(!d){b.parent().css("overflow","hidden");b.css("min-height","100%");b.height("auto");b.css("-webkit-transform","translate3D(0,0,0)");$.delegateScroller["scroll-y[show]"](b);var a=b.parent().children("div.scbar-y").children(":first");var c=a.children(":first");a.css("opacity","0.05");c.css("opacity","0.05")}}return this};$.fn.relayout=function(){var b=this.length;for(var e=0;e<b;e++){var g=this.eq(e);if(!$.hasScrollTouch()){g.checkScrollOvershoot();var h=g.parents("[jsclass~=scroll-y]");for(var d=0,c=h.length;d<c;d++){h.eq(d).checkScrollOvershoot()}}var a=g;while(g[0]&&g[0]!=document.body&&g.isL()){a=g;g.clearLayout();g=g.parent()}if(a[0]){if(a.supportFlex()){a.clearLayout()}a.layout()}}return this};$.layout=function(g,c,B){g.checkScrollY();var p=g.attr("animatelayout")=="1";var E=g.unitInfo(c);var j=p&&!$.browser.msie?"animate":"css";var l=300;if(p&&B){g.removeAttr("animatelayout")}var e=g.isH();var q=g.isV();if(g.supportFlex()){if(g.isA()){g.addClass("flex-abs")}else{g.removeClass("flex-abs")}if(g.isFit()){g.addClass("flex-fit")}else{g.removeClass("flex-fit")}if(g.isA()){if(g.hgFix()){g.removeClass("flex-full-hg")}else{g.addClass("flex-full-hg")}if(g.wdFix()){g.removeClass("flex-full-wd")}else{g.addClass("flex-full-wd")}}}if(g.supportFlex()){if(g.skipFlexRelayout(E)){if(B){var r=g.txy();if(c.x!=undefined){g[j]({left:c.x+r.x,top:c.y+r.y},l)}g.checkScrollOvershoot()}return{wd:E.bw,hg:E.bh}}}if(g.supportFlex()){if(g.isL()&&g.parent().isA()&&g.parent().isFit()){if(g.hgFix()){g.removeClass("flex-full-hg")}else{g.addClass("flex-full-hg")}if(g.wdFix()){g.removeClass("flex-full-wd")}else{g.addClass("flex-full-wd")}}}if(g.supportFlex()&&g[0]!=document.body&&(e||q)){if(B){var u=g.children();var a=u.length;if(e){g.addClass("display-flex")}else{if(q){g.addClass("display-flex")}}if((e||q)&&(g.attr("vertical")=="1"||g.attr("horizontal")=="1")){if(e){g.addClass("display-flex-h")}else{if(q){g.addClass("display-flex-v")}}}for(var A=0;A<a;A++){var I=u.eq(A);if(I.isA()){if(B){if(I.isA()&&I.isL()){var d={width:E.cwd,height:E.chg};if(!I.hasClass("display-none")&&I.css("display")!="none"){var H=I.fitH();var K=I.fitV();var o=I.fitH(true);var h=I.fitV(true);if(e){if(!H){I.css({flex:"0 0 "+I.wdFix()+"px",width:I.wdFix()});d.width=I.wdFix();I.removeClass("flex-alter-basis")}if(h){if($.browser.safari&&!$.browser.chrome&&!$.browser.msie&&!$.browser.mozilla){if(!g.isA()&&!I.isA()){I.addClass("flex-hg-hacks")}else{I.removeClass("flex-hg-hacks")}}}}else{if(q){if(!K){I.css({flex:"0 0 "+I.hgFix()+"px",height:I.hgFix()});d.height=I.hgFix();I.removeClass("flex-alter-basis")}if(o){}}}if(I.isA()){if(I.isL()){I.addClass("flex-abs")}else{d.position="absolute"}}I[j](d)}if(I.isA()){if(I.hgFix()){I.removeClass("flex-full-hg")}else{I.addClass("flex-full-hg")}if(I.wdFix()){I.removeClass("flex-full-wd")}else{I.addClass("flex-full-wd")}}if(!I.attr("skip")){$.layout(I,d,true)}}}}else{var H=I.fitH();var K=I.fitV();var o=I.fitH(true);var h=I.fitV(true);if(g.isA()){if(I.hgFix()){I.removeClass("flex-full-hg")}else{I.addClass("flex-full-hg")}if(I.wdFix()){I.removeClass("flex-full-wd")}else{I.addClass("flex-full-wd")}}if(e){if(!H){I.css({width:I.wdFix(),flex:"0 0 "+I.wdFix()+"px"});I.removeClass("flex-alter-basis")}else{I.addClass("flex-alter-basis")}if(h){if($.browser.safari&&!$.browser.chrome&&!$.browser.msie&&!$.browser.mozilla){if(!g.isA()&&!I.isA()){I.addClass("flex-hg-hacks")}else{I.removeClass("flex-hg-hacks")}}}I.layout()}else{if(q){if(!K){I.css({height:I.hgFix(),flex:"0 0 "+I.hgFix()+"px"});I.removeClass("flex-alter-basis")}else{I.addClass("flex-alter-basis")}if(I.isW()){if(!H){I.addClass("flex-full-wd")}}I.layout()}}}}}}if(!g.supportFlex()){if(g.skipRelayout(E)){if(B){var r=g.txy();if(c.x!=undefined){g[j]({left:c.x+r.x,top:c.y+r.y},l)}g.checkScrollOvershoot()}return{wd:E.bw,hg:E.bh}}}var n;var m;var u=g.children();var a=u.length;var J;var b=E.pl;var t=E.pt;var C=b;var L=t;var y=false;if(!g.supportFlex()){var G={avwd:0,avhg:0};if(B){G=g.averageSize(E)}if(e||q){for(var A=0;A<a;A++){var I=u.eq(A);if(g.skipSublayout(I)){if(B){if(I.isA()&&I.isL()&&!I.attr("skip")){I[j]({width:F,height:x});$.layout(I,{wd:F,hg:x},true)}}}else{var F;var x;var H=I.fitH();var K=I.fitV();F=H?G.avwd:E.cwd;x=K?G.avhg:E.chg;if(!B){if(J=I.wdFix()){F=J}if(J=I.hgFix()){x=J}}if(!B){if(I.hgAuto()){x=$.layout(I,{wd:E.cwd},false).hg}if(I.wdAuto()){F=$.layout(I,{hg:E.chg},false).wd}}if(B){var z={x:b,y:t,wd:F,hg:x};var w=$.layout(I,z,true);F=w.wd;x=w.hg;if(!I.isL()){I.css({position:"absolute",overflow:"hidden",display:"block"})}}C=Math.max(b+F+E.sx,C);L=Math.max(t+x+E.sy,L);if(e){b+=F+E.sx}else{t+=x+E.sy}y=true}}}}C+=(y?-E.sx:0)+E.pr;L+=(y?-E.sy:0)+E.pb;n=g.wdAuto()?C:E.bw;m=g.hgAuto()?L:E.bh;if(!g.supportFlex()||(!e&&!q)){if(g.isW()&&g.hgAuto()){var D=u.eq(u.length-1);m=D[0]?D.offset().top+D.height():0}if(B){var r=g.txy();var d={};if(c.x!=undefined){d={width:n,height:m,left:c.x+r.x,top:c.y+r.y}}g[j](d,l);g.attr("zwd",n);g.attr("zhg",m);g.checkScrollOvershoot()}}if(!e&&!q){for(var A=0;A<a;A++){var I=u.eq(A);if(g.supportFlex()){if(g.isFit()){if(I.hgFix()){I.removeClass("flex-full-hg")}else{I.addClass("flex-full-hg")}if(I.wdFix()){I.removeClass("flex-full-wd")}else{I.addClass("flex-full-wd")}}}if(I.isL()){I.layout()}}}else{if(g.isFit()&&!e&&!q){for(var A=0;A<a;A++){var I=u.eq(A);if(g.skipSublayout(I)&&I.isA()&&I.css("display")=="block"&&!I.attr("skip")){I.layout()}}}}if(g.supportFlex()){g.attr("ffx","1")}return{wd:n,hg:m}};$.fn.layout=function(g){if(g){this.relayout()}var h=this;if(this[0]==document.body){var e=[];var b=this.children();for(var d=0,a=b.length;d<a;d++){var c=b.eq(d);if(c.isL()){e.push(c[0])}}h=$(e)}return h.each(function(r,s){var l=$(s);if(l.parent()[0]){var m=l.wdFix();var p=l.hgFix();var q=(l.parent()[0]==document.body);if((q||!l.parent().isV()||!l.parent().isH())&&l.isFit()){if(q&&!window.parent){m=m||$(window).width();p=p||$(window).height()}var t=l.attr("animatelayout")=="1";var u=t&&!$.browser.msie?"animate":"css";var o=300;if(!q){if(!l.supportFlex()||!(l.isV()||l.isH())){if(l.supportFlex()){l[u]({width:m?m:"100%",height:p?p:"100%"},o)}else{l[u]({width:m?m:l.parent().width(),height:p?p:l.parent().height()},o)}}}else{l[u]({width:"100%",height:"100%"})}}if(q){var j=l.height();var n=navigator.userAgent.toLowerCase();if($.browser.safari&&n.indexOf("ipad")>=0&&n.match(/os 7/)){j=Math.min(j,$(window).height())}$.layout(l,{wd:m?m:(l.supportFlex()?"100%":l.width()),hg:p?p:(l.supportFlex()?"100%":j)},true)}else{$.layout(l,{wd:m?m:(l.supportFlex()?"100%":l.width()),hg:p?p:(l.supportFlex()?"100%":l.height())},true)}if(l.supportFlex()&&l.hasClass("flex-hg-hacks")&&l.isA()){l.removeClass("flex-hg-hacks")}if(q&&m==$(window).width()){l.css({width:"100%"})}}})};document.createElement("v");document.createElement("h");document.createElement("w");(function(){var a=false;$.iOS7ScrollFix=function(){if($.isTouchBase&&$.iDevice){if($(window).height()==$(document.body).height()){window.scrollTo(0,0)}}};$.layoutReady=function(c){$.theme.registerCSS("LM#CSS","h,v,w{display:block;position:absolute;overflow:hidden;background-position:0 0}w{overflow:hidden;}body.layout,html{padding:0px;margin:0px;width:100%;height:100%;overflow:hidden;}");$.theme.registerCSS("LMORIENT#CSS","@media all and (orientation: portrait) { *[orientation=landscape] { display : none } } @media all and (orientation: landscape) { *[orientation=portrait] { display : none } }");$.theme.registerCSS("LM#Flex",".display-flex{display:flex;position:relative}h.display-flex,.display-flex-h{flex-direction:row}v.display-flex,.display-flex-v{flex-direction:column}body.support-flex h,body.support-flex v,body.support-flex w{position:relative}.flex-abs,w.flex-abs,w.display-flex.flex-abs,v.flex-abs,h.flex-abs,body.support-flex v.flex-abs,body.support-flex h.flex-abs,body.support-flex w.flex-abs{position:absolute}.flex-fit{align-items:stretch;align-content:absolute}.flex-alter-basis{flex:1 1 0}.flex-full-hg{height:100%}.flex-full-wd{width:100%}");if($.browser.safari&&!$.browser.chrome&&!$.browser.msie&&!$.browser.mozilla){try{$.theme.registerCSS("LM#HgHacks",".flex-hg-hacks{height:auto !important;}")}catch(b){}}$(document).ready(function(){$(document.body).addClass("layout")});$.relayout=c?c:function(){$(document.body).layout();$(document.body).fastRetheme()};$.originalRelayout=$.relayout;if(navigator.userAgent.toLowerCase().indexOf("iphone")>=0||$.android){$.relayout=function(){if(!window.parent){}setTimeout(function(){if(window.pageYOffset<=0){window.scrollTo(0,$.android?1:0)}else{}setTimeout(function(){if(!window.parent){$(document.body).height(window.innerHeight)}$.originalRelayout()},$.android?350:100)},10)};$.relayout()}if(!a){a=true;$(document).ready(function(){$.relayout();setTimeout(function(){$.iOS7ScrollFix()},800)});$.resize(function(){setTimeout(function(){$.originalRelayout()},$.android?350:100);$.iOS7ScrollFix()})}}})();if($.browser.msie){$(document).ready(function(){var a=$('meta[name="viewport"]');if(a[0]){if(a.attr("content").match(/user-scalable[\t\s]*=['"\s\t]*no/)){$.theme.registerCSS("IE10BodyZoom","body,html{-ms-content-zooming:none;content-zooming:none}")}}})};